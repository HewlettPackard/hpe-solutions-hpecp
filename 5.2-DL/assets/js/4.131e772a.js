(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{467:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-1.502ef1e6.png"},468:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-2.0be050cf.png"},469:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-3.ce2df6fc.png"},470:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-4.b0d2d559.png"},471:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-5.37ae3150.png"},472:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-6.f6c02846.png"},473:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-7.5833e1ab.png"},474:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-8.ad833799.png"},475:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-9.f5c0327d.png"},476:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-10.335c171a.png"},477:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-11.80fba461.png"},478:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-12.3de74204.png"},479:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-13.cbc86278.png"},480:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-14.6bcc8577.png"},481:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-15.211323cf.png"},482:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-16.d70ef560.png"},483:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-17.4ae92fb5.png"},484:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-18.abd22929.png"},485:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-19.ccaaf53c.png"},486:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-20.ef75a9dc.png"},487:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-21.66d8ff8c.png"},488:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-22.f450248b.png"},489:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-23.782def06.png"},490:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-24.f4ed0884.png"},549:function(e,t,a){"use strict";a.r(t);var n=a(42),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"manually-install-and-configure-hpe-ezmeral-container-platform-5-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#manually-install-and-configure-hpe-ezmeral-container-platform-5-2"}},[e._v("#")]),e._v(" Manually Install and configure HPE Ezmeral Container Platform 5.2")]),e._v(" "),n("p",[e._v("Follow the steps as outlined to install and configure the HPE Ezmeral\nContainer Platform. This section assumes you have followed all the\nprerequisites mentioned in the earlier sections.")]),e._v(" "),n("ol",[n("li",[e._v("Login to the host that will be used as the Controller host. Navigate\nto the HPE Ezmeral Container Platform binary (.bin) folder and\nprovide the necessary execution permission.")])]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" a+x "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("HPE Ezmeral Container Platform.bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ./"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("HPE Ezmeral Container Platform.bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" --default-password "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("password"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v("\n")])])]),n("p",[e._v("After the software is installed on the Controller, launch the Web UI\nusing the URL provided at the end of the installation. The link should\nbe similar to "),n("a",{attrs:{href:"http://controller-ip",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://controller-ip"),n("OutboundLink")],1),e._v(". The screen shown in\nFigure 15 will appear. For further configuration of the controller,\nprovide the necessary information, and click Submit.")]),e._v(" "),n("p",[n("img",{attrs:{src:a(467),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 15.")]),e._v(" HPE Ezmeral Container Platform Controller setup")]),e._v(" "),n("p",[e._v("Figure 16 shows the configuration required to set up a Data Fabric.")]),e._v(" "),n("p",[n("img",{attrs:{src:a(468),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 16.")]),e._v(" HPE Ezmeral Container Platform Controller setup with HPE\nEzmeral Data Fabric for Kubernetes")]),e._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[e._v("After the successful configuration, a screen appears as shown in\nFigure 17. Enter an appropriate username and password to login to\nthe HPE Ezmeral Container Platform management UI.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(469),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 17.")]),e._v(" HPE Ezmeral Container Platform Management UI login screen")]),e._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[e._v("The dashboard as shown in Figure 18 appears upon successful login.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(470),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 18.")]),e._v(" HPE Ezmeral Container Platform Kubernetes - Dashboard")]),e._v(" "),n("h2",{attrs:{id:"platform-high-availability"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#platform-high-availability"}},[e._v("#")]),e._v(" Platform high availability")]),e._v(" "),n("p",[e._v("Add EPIC Hosts - Worker Node")]),e._v(" "),n("ol",[n("li",[e._v("Login to the HPE Ezmeral Container Platform web interface. Navigate\nto EPIC drop-down on the left pane, click hosts and add EPIC worker\nhosts as shown in Figure 19")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(471),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 19.")]),e._v(" HPE Ezmeral Container Platform -- EPIC worker host installation")]),e._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("p",[e._v("Select the respective disks for the Docker storage and for the HPE\nEzmeral Data Fabric and proceed for the installation of worker\nnodes.")])]),e._v(" "),n("li",[n("p",[e._v("Prior to adding the HPE Ezmeral Container Platform high\navailability, the HPE Ezmeral Container Platform needs to be put\ninto Site Lockdown mode. To do this, select Enter site lockdown in\nthe quick access menu.")])]),e._v(" "),n("li",[n("p",[e._v("After successfully adding worker hosts to the HPE Ezmeral Container\nPlatform, go to GLOBAL SETTINGS drop-down. Click Controllers and\nselect enable HA checkbox as shown in Figure 20. Provide the Cluster\nIP, Shadow Controller, and Arbiter Node and click Submit.")])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(472),alt:""}})]),e._v(" "),n("p",[e._v("Figure 20. HPE Ezmeral Container Platform -- Enabling platform HA")]),e._v(" "),n("h2",{attrs:{id:"hpe-ezmeral-container-platform-gateway"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hpe-ezmeral-container-platform-gateway"}},[e._v("#")]),e._v(" HPE Ezmeral Container Platform Gateway")]),e._v(" "),n("p",[e._v("Gateway servers map the services running in Ezmeral nodes or containers\nto ports and balance service loads. Add the designated gateway server(s)\nto the HPE Ezmeral Container Platform.")]),e._v(" "),n("p",[n("img",{attrs:{src:a(473),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 21.")]),e._v(" HPE Ezmeral Container Platform gateway Kubernetes\norchestrator")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Prior to adding the HPE Ezmeral Container Platform Gateway host, the\nHPE Ezmeral Container Platform needs to be put into Site Lockdown\nmode.")])]),e._v(" "),n("li",[n("p",[e._v("Add the gateway by clicking the Gateway LB on the left pane and\nprovide the details as shown in Figure below. Click Add Gateway")])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(474),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 22.")]),e._v(" HPE Ezmeral Container Platform - Adding Gateway Server")]),e._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[e._v('After the Gateway Server is installed, a green "Installed" status is\nseen as shown in Figure below.')])]),e._v(" "),n("p",[n("img",{attrs:{src:a(475),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 23.")]),e._v(" HPE Ezmeral Container Platform -- Gateway added and\ninstalled.")]),e._v(" "),n("h2",{attrs:{id:"gateway-host-high-availability"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gateway-host-high-availability"}},[e._v("#")]),e._v(" Gateway Host high availability")]),e._v(" "),n("p",[e._v("Redundancy for multiple Gateway hosts can be achieved by mapping\nmultiple Gateway host IP addresses to a single hostname. When this is\ndone, then either the DNS server or an external load balancer will\nload-balance requests to the hostname among each of the Gateway hosts on\na round-robin basis. This ensures that there is no single point of\nfailure for the Gateway host.")]),e._v(" "),n("p",[e._v("If required existing load balancing solution such as NGINX can be used\nto further enhance the capability of the Gateway such as least\nconnection load balancing, SSL termination, etc.")]),e._v(" "),n("p",[e._v("The existing load balancing solution is shown in Figure 24 as an\nExternal load balancer.")]),e._v(" "),n("p",[n("img",{attrs:{src:a(476),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 24.")]),e._v(" External Load Balancer for HPE Ezmeral Container Platform")]),e._v(" "),n("p",[e._v("Add multiple gateway servers as Gateway LB as shown in Figure 25. Map\nthese Gateway host IP addresses to a single hostname that adds\nredundancy for Gateway hosts. After this is done, then either the DNS\nserver or an external load balancer will load-balance requests to the\nhostname among all the Gateway hosts on a round-robin basis. This\nensures that there is no single point of failure for the Gateway host.")]),e._v(" "),n("p",[n("img",{attrs:{src:a(477),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 25.")]),e._v(" HPE Ezmeral Container Platform -- Gateway LB high\navailability")]),e._v(" "),n("p",[e._v("To add one or more Gateway Worker host(s) to your HPE Ezmeral Container\nPlatform deployment, you must specify a hostname in the Hostname field.\nIf you specify one hostname for more than one Gateway IP address, then\neither the DNS server or external load balancer will load-balance\nrequests to the hostname among all the Gateway hosts on a round-robin\nbasis. For example, if three Gateway hosts are sharing a hostname, then\nUsers 1-3 will access virtual nodes via Hosts 1-3. User 4 will access\nvirtual nodes using Host 1, and so on. You may add additional Gateway\nhost(s) to an existing set at any time by specifying the IP address (es)\nof the Gateway host(s) you are adding and then entering an existing\nGateway hostname. You can use Gateway hostnames in one of the following\nways:")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Configure the Gateway hostname in the corporate DNS server to resolve the IP address (es) of the Gateway host(s).")])]),e._v(" "),n("li",[n("p",[e._v("Configure an external load balancer with rules to point traffic to\nthe IP address (es) of the Gateway host(s). HPE Ezmeral Container\nPlatform does not validate these rules.")])])]),e._v(" "),n("p",[e._v("For more information on load balancing, see\n"),n("a",{attrs:{href:"https://docs.containerplatform.hpe.com/52/52/universal-concepts/Load_Balancing.html?hl=load%2Cbalancing",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.containerplatform.hpe.com/52/52/universal-concepts/Load_Balancing.html?hl=load%2Cbalancing"),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),n("p",[e._v("Ensure that you exit from Site lockdown mode at this point.")])]),e._v(" "),n("h2",{attrs:{id:"add-kubernetes-hosts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#add-kubernetes-hosts"}},[e._v("#")]),e._v(" Add Kubernetes Hosts")]),e._v(" "),n("p",[e._v("Adding each K8s host is a two-phase process:")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("Phase 1: Add the host and do an initial bundle installation")])]),e._v(" "),n("li",[n("p",[e._v("Phase 2: Configure and confirm storage allocation for this node")])])]),e._v(" "),n("h3",{attrs:{id:"add-the-host-and-perform-the-initial-installation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#add-the-host-and-perform-the-initial-installation"}},[e._v("#")]),e._v(" Add the host and perform the initial installation")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Expand the KUBERNETES tab on the left pane of Web UI.")])]),e._v(" "),n("li",[n("p",[e._v("Navigate to the Hosts tab under the KUBERNETES tab. Do not select\nthe Host view under the EPIC tab.")])]),e._v(" "),n("li",[n("p",[e._v('Enter details for IP List, Username, Credentials, and Password and\nthen click Submit as in Figure below. HPE Ezmeral Container Platform\nwill install the software and perform the initial configuration.\nThis step will complete when the status shows "phase 1 of 2\ncompleted".')])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(478),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 26.")]),e._v(" HPE Ezmeral Container Platform -- Adding Kubernetes Hosts")]),e._v(" "),n("h3",{attrs:{id:"configure-and-confirm-storage-allocation-for-this-node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configure-and-confirm-storage-allocation-for-this-node"}},[e._v("#")]),e._v(" Configure and confirm storage allocation for this node")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("After the bundle is installed, phase 1 is completed. Click edit to\nconfirm disk allocation. HPE Ezmeral Container Platform can only add\nraw disks.")])]),e._v(" "),n("li",[n("p",[e._v("After the disk allocation is confirmed, select the newly added host\nand click Install as in Figure below to complete the Kubernetes node\ninstallation.")])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(479),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 27.")]),e._v(" HPE Ezmeral Container Platform -- Storage allocation and installing Kubernetes nodes")]),e._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[n("p",[e._v("When Install is selected, a new dialog box will appear to confirm\nthe action. Select OK to continue. The installation will take\nbetween 5-10 minutes.")])]),e._v(" "),n("li",[n("p",[e._v("After the Kubernetes node is successfully added, a ready status\nappears as shown in Figure below")])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(480),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 28.")]),e._v(" HPE Ezmeral Container Platform -- Kubernetes nodes Ready\nstatus")]),e._v(" "),n("h2",{attrs:{id:"create-a-kubernetes-cluster"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-a-kubernetes-cluster"}},[e._v("#")]),e._v(" Create a Kubernetes Cluster")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Click the Create Kubernetes Cluster on the Kubernetes Clusters page\nunder the KUBERNETES tab.")])]),e._v(" "),n("li",[n("p",[e._v("Provide a Name and description and then select the master and worker\nnodes for the cluster as shown in Figure 27. When done, click Next.\nHPE Ezmeral Container Platform will automatically configure the HPE\nEzmeral Data Fabric using the local drives configured with the\nnodes. This will be used as persistent storage for containerized\napplication.")])])]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),n("p",[e._v("Please refer to "),n("RouterLink",{attrs:{to:"/additional-features-and-functionality/creating-data-fabric-cluster-on-hpecp.html"}},[e._v("Creating DataFabric Cluster")])],1)]),e._v(" "),n("p",[n("img",{attrs:{src:a(481),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 29.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster creation Host configuration")]),e._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[e._v("The Cluster Configuration page appears. Provide the necessary\ninformation as shown below and then click on Next.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(482),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 30.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster Configuration Page")]),e._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[e._v("Authentication page appears, Provide the necessary information if\nrequired and then click on Next.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(483),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 31.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster Authentication Page")]),e._v(" "),n("ol",{attrs:{start:"5"}},[n("li",[e._v("Application Configuration page appears, select the list of\napplications if required and then click on Next.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(484),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 32.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster List of Applications")]),e._v(" "),n("ol",{attrs:{start:"6"}},[n("li",[e._v("Summary page shows selected hosts and configuration details. Click\non Submit to create cluster.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(485),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 33.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster creation Summary")]),e._v(" "),n("ol",{attrs:{start:"7"}},[n("li",[e._v("When the Kubernetes cluster has successfully been created, a page\nappears as in Figure below.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(486),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 34.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster Creation\nStatus Ready")]),e._v(" "),n("h2",{attrs:{id:"launch-the-kubernetes-dashboard"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#launch-the-kubernetes-dashboard"}},[e._v("#")]),e._v(" Launch the Kubernetes Dashboard")]),e._v(" "),n("ul",[n("li",[e._v("To access the Kubernetes Dashboard for the cluster that was just\ncreated, click Dashboard icon for the cluster as shown in Figure below.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(487),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 35.")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("Click the download icon to download the kubeconfig file. For more details on how to configure or use the kubeconfig on your client, see "),n("a",{attrs:{href:"https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/"),n("OutboundLink")],1),e._v(".")])]),e._v(" "),n("li",[n("p",[e._v("Select the Dashboard icon to open up a new window. This allows the\nuser to access the Kubernetes Dashboard with an Auth token as shown\nin Figure below Highlight and copy the token. Select Proceed to\nKubernetes Dashboard.")])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(488),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 36.")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard\n-- Auth token")]),e._v(" "),n("ul",[n("li",[e._v("Paste the token value in the next screen and click Sign in as in\nFigure below")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(489),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 37.")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard\n-- applying Auth token")]),e._v(" "),n("ul",[n("li",[e._v("A Dashboard Overview page similar to Figure below appears.")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(490),alt:""}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 38.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Dashboard")])])}),[],!1,null,null,null);t.default=r.exports}}]);