<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Physical Worker Node Labeling in HPE Ezmeral Runtime Enterprise | HPE EZMERAL RUNTIME ENTERPRISE 5.6 ON DL INTEL USING REST API BASED DEPLOYMENT</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/css/0.styles.9f3dcfbe.css" as="style"><link rel="preload" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/app.3846c2a3.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/2.bd3d0753.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/20.a8dce47b.js" as="script"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/10.7a6aeecb.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/11.51915c3e.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/12.d90a58c9.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/13.c06042b9.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/14.8f4a8ebc.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/15.8390fef1.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/16.0d849bc5.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/17.1b5e9a1d.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/18.746f0ded.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/19.d4c1bdeb.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/21.c2347089.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/22.7745bb36.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/23.ec006780.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/24.0742754f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/25.c40384e0.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/26.2e649161.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/27.b7e8f3ff.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/28.39277534.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/29.832a3a53.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/3.79a197d2.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/4.e32f2f0e.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/5.acce215a.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/6.9fc215bd.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/7.b4dca9bb.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/8.957fa150.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/9.0f26b646.js">
    <link rel="stylesheet" href="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/css/0.styles.9f3dcfbe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-hpecp/5.6-DL-INTEL/" class="home-link router-link-active"><!----> <span class="site-name">HPE EZMERAL RUNTIME ENTERPRISE 5.6 ON DL INTEL USING REST API BASED DEPLOYMENT</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HPE EZMERAL RUNTIME ENTERPRISE 5.6 ON DL INTEL USING REST API BASED DEPLOYMENT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Additional Features and Functionality</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Lite-Touch-Installation.html" class="sidebar-link">Lite Touch Installation (LTI)</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Create-Datafabric-Cluster-ERE.html" class="sidebar-link">Integrating External Ezmeral DataFabric with Ezmeral Runtime Enterprise 5.6.1</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Deploy-Stateful-application-Kubedirector.html" class="sidebar-link">Deploying stateful application using KubeDirector</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Role-Based-Access-Control.html" class="sidebar-link">HPE Ezmeral Runtime Enterprise – Role Based Access Control</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Physical-Worker-Node-labelling-ERE.html" aria-current="page" class="active sidebar-link">Physical Worker Node Labeling in HPE Ezmeral Runtime Enterprise</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Istio-Kiali-ERE.html" class="sidebar-link">Istio with Kiali dashboard deployment on HPERE</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Install-and-Configure-Velero.html" class="sidebar-link">Install and Configure Velero</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Expand-and-Shrink-Cluster.html" class="sidebar-link">Expand and Shrink Cluster</a></li><li><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/External-Load-Balancing-using-NGINX.html" class="sidebar-link">External Load Balancing using NGINX</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resources and additional links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="physical-worker-node-labeling-in-hpe-ezmeral-runtime-enterprise"><a href="#physical-worker-node-labeling-in-hpe-ezmeral-runtime-enterprise" class="header-anchor">#</a> Physical Worker Node Labeling in HPE Ezmeral Runtime Enterprise</h1> <p>Discovering the node properties and advertising them through node labels can be used to control workload placement in a Kubernetes cluster. With the HPE Ezmeral Runtime Enterprise running on HPE server platforms, organizations can automate the discovery of hardware properties and use that information to schedule workloads that benefit from the different capabilities that the underlying hardware provides.</p> <p>HPE Ezmeral Runtime Enterprise node labeling can be applied to group nodes based on the underlying features of the nodes. By default, every node will have its node name as a label. The following properties can be used to label nodes:</p> <ul><li><p>Overall health status of the node: If current status of “BIOS, Fans, Temperature Sensors, Battery, Processor, Memory, Network, and Storage” is ok, node health status is labeled as “Ok”. Otherwise, it will appear as “Degraded”.</p></li> <li><p>Overall security status of the node: If the current status of the following BIOS configuration items (which are important for security) are as expected, then security status of the node is “Ok”. Otherwise, they will be labeled as “Degraded”.</p></li> <li><p>Custom Labeling: User defined labels (key, value) are assigned to desired physical worker nodes. Users can use these Python scripts to retrieve the properties of the underlying hardware and then decide on required labels that should be assigned to each physical worker nodes.</p></li></ul> <p>Node labeling can be broken down into 4 main phases:</p> <ul><li><p>Setting up of the installer VM environment</p></li> <li><p>Updating the input files with the server information</p></li> <li><p>Execution of the python scripts</p></li> <li><p>Verification of the pod scheduling</p></li></ul> <p><img src="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/img/figure98.9dca06f9.png" alt=""></p> <p><strong>Figure 98.</strong> Node Labeling High Level steps</p> <p>Steps to perform Node Labeling:</p> <ol><li><p>Update the config.json and the hosts.json inventory file which will be used by the HPE Ezmeral Runtime Enterprise to reference the physical worker nodes.</p></li> <li><p>Set up utility libraries for interfacing and managing components of HPE ProLiant Servers.</p></li></ol> <ul><li>proliantutils==2.9.2</li> <li>sushy==3.0.0</li></ul> <ol start="3"><li><p>Execute the python3 script using the command</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> python physical_node_labelling.py
</code></pre></div></li> <li><p>Apply the health, security and custom labels to the nodes.</p></li></ol> <p>Verify Pod Scheduling using Node Selector:</p> <ol><li><p>View the labels of all the nodes</p></li> <li><p>Select a label you wish to deploy the workload on</p> <p>Eg. “health=OK”</p></li> <li><p>Deploy sample application with nodeSelector value “health=OK”</p></li> <li><p>Check if pod is deployed on the required node.</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Role-Based-Access-Control.html" class="prev">
        HPE Ezmeral Runtime Enterprise – Role Based Access Control
      </a></span> <span class="next"><a href="/hpe-solutions-hpecp/5.6-DL-INTEL/Additional-Features-and-Functionality/Istio-Kiali-ERE.html">
        Istio with Kiali dashboard deployment on HPERE
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/app.3846c2a3.js" defer></script><script src="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/2.bd3d0753.js" defer></script><script src="/hpe-solutions-hpecp/5.6-DL-INTEL/assets/js/20.a8dce47b.js" defer></script>
  </body>
</html>
