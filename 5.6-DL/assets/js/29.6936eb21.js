(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{427:function(e,s,t){"use strict";t.r(s);var a=t(14),i=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"preparing-sles-15-hosts-for-hpere-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#preparing-sles-15-hosts-for-hpere-installation"}},[e._v("#")]),e._v(" Preparing SLES 15 hosts for HPERE installation")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Prerequisites")]),e._v(" "),s("p",[e._v("Centos 7 or RHEL "),s("RouterLink",{attrs:{to:"/Solution-Deployment/Host-Configuration.html#installer-machine"}},[e._v("Installer machine")]),e._v(" with the following configurations is essential.")],1),e._v(" "),s("ol",[s("li",[s("p",[e._v("Enable Python3 and Ansible Environment as mentioned in "),s("RouterLink",{attrs:{to:"/Solution-Deployment/Host-Configuration.html#installer-machine"}},[e._v("Installer machine")]),e._v(" section of deployment guide.")],1)]),e._v(" "),s("li",[s("p",[e._v("Password less SSH is configured to target hosts from the installer machine. Steps for configuring password less SSH is as follows:")]),e._v(" "),s("ul",[s("li",[e._v("Execute the following command on installer machine to generate a new SSH key pair.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ssh-keygen\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("To generate a SSH key pair of specific algorithm or specific key size as per user requirements, use the following command.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ssh-keygen "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("algorithm"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("keysize"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])])])])])]),e._v(" "),s("h2",{attrs:{id:"input-files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#input-files"}},[e._v("#")]),e._v(" Input Files")]),e._v(" "),s("ul",[s("li",[e._v("Update vars.yml file with required detail for registration.")])]),e._v(" "),s("p",[e._v("Edit vars.yml present in “$BASE_DIR/Lite_Touch_Installation/group_vars/all/” folder with the following command and enter the details listed below.\nCommand to edit vars.yml")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ansible-vault edit vars.yml\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("Default password for Ansible Vault file vars.yml is “changeme”.")])]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Mode: There are two modes of registering the server to registration server, RMT and User Email. Permissible values are 1 (For registering the SUSE server to RMT) and 2 (For registering the SUSE server using Email)")])]),e._v(" "),s("li",[s("p",[e._v("Mode 1: Registration using RMT server.")]),e._v(" "),s("ul",[s("li",[e._v("Update the Mode:1 section in vars.yml with the following inputs\n"),s("ol",[s("li",[e._v("RMT_URL: RMT server ip address.")])])])])]),e._v(" "),s("li",[s("p",[e._v("Mode 2: Registration using User Email Id and RegCode")]),e._v(" "),s("ul",[s("li",[e._v("Update the Mode:2 section in vars.yml with the following inputs\n"),s("ol",[s("li",[e._v("email: User Email-id which will be used for server registration.")]),e._v(" "),s("li",[e._v("base_code:- Registration code which will be used for server registration.")]),e._v(" "),s("li",[e._v("caas_code:- Registration code for caas module.")]),e._v(" "),s("li",[e._v("ha_code:- Registration code for ha module.")])])])])])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("1.  Email and Reg_codes are applicable only for Mode 2 else leave blank.\n2.  sles_packages: sles modules which will be installed separated by comma.\n3.  Zypper_packages: 27zypper packages which will be installed separated by comma.\n")])])])]),e._v(" "),s("ul",[s("li",[e._v("Example values for the registration details in vars.yml are as follows.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#Mode 1 for RMT Registration and Mode 2 for User Registration")]),e._v("\n\nMode: "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("\nEmail: jim. ***@***.com\nbase_code: 8BAB9EC****\ncaas_code: 21E02******\nha_code: 87D73*****\nRMT_URL: http://20.**.**.**\n\nsles_packages: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("sle-module-public-cloud/15.6.0/x86_64,\nsle-module-legacy/15.6.0/x86_64, sle-module-python2/15.6.0/x86_64,\nsle-module-containers/15.6.0/x86_64,\nsle-module-basesystem/15.6.0/x86_64,\nsle-module-desktop-applications/15.6.0/x86_64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\nzypper_packages: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("iputils, bind-utils, autofs, libcgroup1,kernel-default-devel,gcc-c++,perl,pciutils,rsyslog,firewalld"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note:")]),e._v(" "),s("p",[e._v("Don’t modify the sles_packages and zypper_pacakges as these packages are required for HPERE implementation changes made to this section may impact the installation.")])]),e._v(" "),s("h2",{attrs:{id:"installation-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation-process"}},[e._v("#")]),e._v(" Installation Process")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Enable Python3 and Ansible Environment as mentioned in "),s("RouterLink",{attrs:{to:"/Solution-Deployment/Host-Configuration.html#installer-machine"}},[e._v("Installer machine")]),e._v(" section of deployment guide.")],1)]),e._v(" "),s("li",[s("p",[e._v('Change the current working directory to "$BASE_DIR" using the following command and Execute the playbook using the following commands.')])])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BASE_DIR")]),e._v("/Lite_Touch_Installation/\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ansible-playbook "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" hosts playbooks/prepare_hosts.yml --ask-vault-pass\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("During the playbook execution, while installing the packageHub Module it might throw an error in the first attempt. This is a known issue from SUSE and is being taken care by re-installing the module.")]),e._v(" "),s("p",[e._v("Link for reference "),s("a",{attrs:{href:"https://www.suse.com/support/kb/doc/?id=000019505",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.suse.com/support/kb/doc/?id=000019505"),s("OutboundLink")],1)]),e._v(" "),s("ul",[s("li",[e._v("In case the script fails while checking the internet connection from the hosts, kindly cross verify the internet from the hosts and then re-run the script.")]),e._v(" "),s("li",[e._v("While checking the apparomor service the error is expected as it verifies the apparmor service status on the hosts and if it running, it will stop and disable the same.")])])])])}),[],!1,null,null,null);s.default=i.exports}}]);