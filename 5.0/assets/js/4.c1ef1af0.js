(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{364:function(e,t,r){e.exports=r.p+"assets/img/figure19.0d6b3b05.png"},365:function(e,t,r){e.exports=r.p+"assets/img/figure20.1ab8e380.png"},366:function(e,t,r){e.exports=r.p+"assets/img/figure21.25db0b2e.png"},367:function(e,t,r){e.exports=r.p+"assets/img/figure22.12b41531.png"},368:function(e,t,r){e.exports=r.p+"assets/img/figure23.ace5e485.png"},369:function(e,t,r){e.exports=r.p+"assets/img/figure24.15ae08e4.png"},370:function(e,t,r){e.exports=r.p+"assets/img/figure25.0b576a33.png"},371:function(e,t,r){e.exports=r.p+"assets/img/figure26.ed058028.png"},372:function(e,t,r){e.exports=r.p+"assets/img/figure27.db96c50b.png"},373:function(e,t,r){e.exports=r.p+"assets/img/figure28.5d151b8c.png"},390:function(e,t,r){"use strict";r.r(t);var o=r(42),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"deploying-kubernetes-cluster"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#deploying-kubernetes-cluster"}},[e._v("#")]),e._v(" Deploying Kubernetes cluster")]),e._v(" "),o("p",[e._v("HPE Ezmeral Container Platform Kubernetes workflow allows you to add dedicated hosts, create one or more clusters with different versions, add one or more tenants to a cluster, and then create virtual nodes or containers that run in virtual clusters (pods) to run Kubernetes applications. For more details on Kubernetes installation, see "),o("a",{attrs:{href:"http://docs.bluedata.com/50_k8s-kubernetes-worker-installation-overview",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://docs.bluedata.com/50_k8s-kubernetes-worker-installation-overview"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"kubernetes-host-installation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-host-installation"}},[e._v("#")]),e._v(" Kubernetes host installation")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Login to HPE Ezmeral Container Platform web interface. Navigate to KUBENETES drop- down on the left pane. Click Hosts tab and add Kubernetes hosts. Figure 19 depicts how to add Kubernetes hosts.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(364),alt:"Adding Kubernetes host"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("19.")]),e._v(" Adding Kubernetes host")])]),e._v(" "),o("li",[o("p",[e._v("Enter the "),o("strong",[e._v("IP List")]),e._v(" of the worker host(s) and provide required credentials and click "),o("strong",[e._v("Submit.")]),e._v(" This will install HPE Ezmeral Container Platform on the selected host(s). This prepares the HPE Ezmeral Container Platform software for installation on the selected host(s).")])]),e._v(" "),o("li",[o("p",[e._v("Configure and confirm storage allocation for this node or abort the installation on a host. Figure 20 depicts how to configure and confirm storage allocation for the node.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(365),alt:"Configuring and confirming storage allocation for the node"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("20.")]),e._v(" Configuring and confirming storage allocation for the node")]),e._v(" "),o("p",[e._v("After the successful installation of the worker host, the status of the node(s) will be in "),o("strong",[e._v("Ready")]),e._v(" state. Figure 21 depicts the status of K8s Host.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(366),alt:"Status of K8s host installation"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("21.")]),e._v(" Status of K8s host installation")])])]),e._v(" "),o("h2",{attrs:{id:"creating-a-kubernetes-cluster"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-kubernetes-cluster"}},[e._v("#")]),e._v(" Creating a Kubernetes Cluster")]),e._v(" "),o("p",[e._v("To create a new Kubernetes cluster, perform the following steps:")]),e._v(" "),o("p",[e._v("Login to HPE Ezmeral Container Platform web interface. Navigate to KUBENETES drop- down on the left pane. Click Clusters tab and click "),o("strong",[e._v("Create Kubernetes Cluster")]),e._v(" on the right corner of the window. Figure 22 depicts the creation of Kubernetes Cluster.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(367),alt:"Creation of Kubernetes Cluster"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("22.")]),e._v(" Creation of Kubernetes Cluster")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Enter a name for the new Kubernetes cluster in the "),o("strong",[e._v("Name")]),e._v(" field.")])]),e._v(" "),o("li",[o("p",[e._v("Enter a brief description of the new Kubernetes cluster in the "),o("strong",[e._v("Description")]),e._v(" field.")])]),e._v(" "),o("li",[o("p",[e._v("Enter the reason for creating this Kubernetes cluster in the "),o("strong",[e._v("Reason")]),e._v(" field, if desired.")])]),e._v(" "),o("li",[o("p",[e._v("In the "),o("strong",[e._v("Masters")]),e._v(" row of the "),o("strong",[e._v("Hosts")]),e._v(" table, hover the mouse over a host in the "),o("strong",[e._v("Available")]),e._v(" column. A right arrow appears. Move the mouse to this arrow, and then click the arrow.")])]),e._v(" "),o("li",[o("p",[e._v("The selected host moves from the "),o("strong",[e._v("Available Hosts")]),e._v(" column to the "),o("strong",[e._v("Selected Hosts")]),e._v(" column. If you make a mistake, hover the mouse over a selected host and then click the left arrow to move it back to the "),o("strong",[e._v("Available Hosts")]),e._v(" column. You must select three(3) Master host(s) to have a quorum. Selecting three(3) Master hosts provides high availability protection for the Kubernetes cluster.")])]),e._v(" "),o("li",[o("p",[e._v("By default, HPE Ezmeral Container Platform places a taint on the Master hosts that prevents them from being able to run pods. You must untaint these hosts if you want them to be available to run pods, as described "),o("a",{attrs:{href:"https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),o("OutboundLink")],1),e._v(" (link opens to an external website in a new browser tab or window).")])]),e._v(" "),o("li",[o("p",[e._v("Repeat Steps 4 and 5 for the worker hosts. You may add as many worker hosts as needed to this cluster.")])]),e._v(" "),o("li",[o("p",[e._v("Click "),o("strong",[e._v("Next")]),e._v(".")]),e._v(" "),o("p",[e._v("Figure 23 depicts the details of Kubernetes Cluster.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(368),alt:"Details of Kubernetes Cluster"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("23.")]),e._v(" Details of K8s Cluster")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("Use the "),o("strong",[e._v("Kubernetes Version")]),e._v(" pull-down menu to select the version of Kubernetes to install on the new cluster. To upgrade this version later, see "),o("a",{attrs:{href:"http://docs.bluedata.com/50_k8s-upgrading-kubernetes",target:"_blank",rel:"noopener noreferrer"}},[e._v("Upgrading Kubernetes"),o("OutboundLink")],1),e._v(". By default, the HPE Ezmeral Container Platform provides the three most recent versions of Kubernetes recommended by the Cloud Native Computing Foundation (CNCF). This allows you to use the most recent Kubernetes version. For more information, see this "),o("a",{attrs:{href:"https://kubernetes.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("article"),o("OutboundLink")],1),e._v(" (link opens an external website in a new browser tab or window). Specific versions of upstream can be on board via a manifest stored in a local repository (see "),o("a",{attrs:{href:"http://docs.bluedata.com/50_air-gap-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("Air Gap Tab"),o("OutboundLink")],1),e._v(").")])]),e._v(" "),o("li",[o("p",[e._v("Enter the CIDR (Network range and mask) to use for the pod(s) in this cluster in the "),o("strong",[e._v("Port Network Range")]),e._v(" field. HPE Container Platform pre-installs and configures the Calico and Flannel Kubernetes CNI plugins and provides a default for the Pod CIDR within a private range. You need to only update these parameters if they conflict with other ranges that are already in use. For additional information, see this "),o("a",{attrs:{href:"https://kubernetes.io/docs/concepts/cluster-administration/networking/#the-kubernetes-network-model",target:"_blank",rel:"noopener noreferrer"}},[e._v("article"),o("OutboundLink")],1),e._v(". (Link opens an external web site in a new browser tab or window).")])]),e._v(" "),o("li",[o("p",[e._v("Enter the CIDR (Network range and mask) to use for the endpoint service(s) in this cluster in the "),o("strong",[e._v("Service Network Range")]),e._v(" field. HPE Ezmeral Container Platform pre-installs and configures the Calico and Flannel Kubernetes CNI plugins and provides a default for the Service CIDR that is in a private range. You need to only update these parameters if they conflict with other ranges that are already in use. Check the "),o("strong",[e._v("Choosing IP Address")]),e._v(" section. For more information, see this "),o("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("article"),o("OutboundLink")],1),e._v(". (Link opens an external web site in a new browser tab or window).")])]),e._v(" "),o("li",[o("p",[e._v("Enter the DNS domain to use for the service endpoints in this cluster in the "),o("strong",[e._v("Pod DNS Domain")]),e._v(" field.")])]),e._v(" "),o("li",[o("p",[e._v("If desired, check the "),o("strong",[e._v("HPE Nimble Storage")]),e._v(" checkbox to install Nimble CSI storage drivers. For more information, see "),o("a",{attrs:{href:"http://docs.bluedata.com/50_k8s-nimble-csi",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nimble CSI"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("Enter the path to the Kubernetes root CA certificate in the "),o("strong",[e._v("Kubernetes Root CA Certificate")]),e._v(" field. This is the certificate authority that Kubernetes will use to generate the certificates needed for various Kubernetes components, such as etcd and auth proxy/front-proxy. Click the "),o("strong",[e._v("Browse")]),e._v(" button to open a standard Open dialog that allows you to navigate and select the desired file.")])]),e._v(" "),o("li",[o("p",[e._v("Enter the path to the Kubernetes root CA private key in the Kubernetes Root CA Private Key field. This is the private key portion of the root CA certificate. Click "),o("strong",[e._v("Browse")]),e._v(" button to open a standard Open dialog that allows you to navigate and select the desired file.")])]),e._v(" "),o("li",[o("p",[e._v("If you are satisfied with your changes, then click "),o("strong",[e._v("Next")]),e._v(" to proceed. Alternatively, you can click Previous to return to Step 1: Host Configurations screen.")])])]),e._v(" "),o("p",[e._v("Review the summary of resources to be assigned to this cluster, and then either click "),o("strong",[e._v("Submit")]),e._v(" to finish creating the new Kubernetes cluster or click "),o("strong",[e._v("Previous")]),e._v(" to return to the previous step. Figure 24 depicts the details of host.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(369),alt:"Details of host"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("24.")]),e._v(" Details of host")])])]),e._v(" "),o("h3",{attrs:{id:"launching-kubernetes-dashboard"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#launching-kubernetes-dashboard"}},[e._v("#")]),e._v(" Launching Kubernetes Dashboard")]),e._v(" "),o("p",[e._v("To bring up the Kubernetes Dashboard for the cluster that was just created, click the Dashboard icon for the cluster.")]),e._v(" "),o("p",[e._v("Click the download icon to download the kubeconfig file.")]),e._v(" "),o("p",[e._v("For more details on how to configure or use the kubeconfig on your client, see "),o("a",{attrs:{href:"https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/"),o("OutboundLink")],1),e._v(". Figure 25 depicts the Dashboard icon.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(370),alt:"Dashboard icon"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("25.")]),e._v(" Dashboard icon")]),e._v(" "),o("p",[e._v("Select the Dashboard icon to open up a new window.This allows the user to access the Kubernetes Dashboard with an Auth token.Highlight and copy the token and select Proceed to Kubernetes Dashboard.\nFigure 26 depicts the HPE Ezmeral Container Platform launching Kubernetes Dashboard- Auth Token.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(371),alt:"HPE Container Platform launching Kubernetes Dashboard- Auth Token"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("26.")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard- Auth Token")]),e._v(" "),o("p",[e._v("Paste the token value in the next screen and click "),o("strong",[e._v("Sign in.")])]),e._v(" "),o("p",[e._v("Figure 27 depicts the HPE Ezmeral Container Platform launching Kubernetes Dashboard -- applying Auth token")]),e._v(" "),o("p",[o("img",{attrs:{src:r(372),alt:" Auth Token"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("27")]),e._v(". HPE Ezmeral Container Platform launching Kubernetes Dashboard -- applying Auth token")]),e._v(" "),o("p",[e._v("The Dashboard overview page appears. Figure 28 depicts the HPE Ezmeral Container Platform Kubernetes Dashboard.")]),e._v(" "),o("p",[o("img",{attrs:{src:r(373),alt:"HPE Container Platform Kubernetes Dashboard"}})]),e._v(" "),o("p",[o("strong",[e._v("Figure")]),e._v(" "),o("strong",[e._v("28.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Dashboard")])])}),[],!1,null,null,null);t.default=n.exports}}]);