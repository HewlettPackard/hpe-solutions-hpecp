(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{558:function(e,t,s){"use strict";s.r(t);var a=s(42),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"securing-hpe-synergy-composer-powered-by-hpe-oneview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#securing-hpe-synergy-composer-powered-by-hpe-oneview"}},[e._v("#")]),e._v(" Securing HPE Synergy Composer powered by HPE OneView")]),e._v(" "),s("p",[e._v("This folder consists of initial scripts to secure HPE composer powered\nby HPE OneView.")]),e._v(" "),s("h2",{attrs:{id:"overview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),s("p",[e._v("This automation script updates the following security parameters\navailable in HPE Synergy Composer:")]),e._v(" "),s("ol",[s("li",[e._v("Cryptographic mode")])]),e._v(" "),s("p",[e._v("This option allows the configuration of the cryptography mode for your\nHPE Synergy Composer appliance. Available cryptography modes include:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Legacy: This is the default cryptography mode. In the legacy mode\nall TLS protocol versions (1.0, 1.1, and 1.2) and associated\ncipher suites for those versions are supported. TLS certificates\nare not required to have FIPS or CNSA minimum key lengths nor\nstrong digital signatures.")])]),e._v(" "),s("li",[s("p",[e._v("FIPS: Federal Information Processing Standard (FIPS) Publication\n140-2 is a U.S. government computer security standard for products\nperforming cryptography. The FIPS 140-2 Cryptographic Module\nValidation Program has validated the cryptography libraries of HPE\nOneView. When in the FIPS mode:")])]),e._v(" "),s("li",[s("p",[e._v("The cryptographic modules of the appliance are configured to operate\nin accordance with the FIPS 140-2 level 1 specification. This\nsetting ensures that the required FIPS self-tests are run while\nloading these cryptographic modules.")])]),e._v(" "),s("li",[s("p",[e._v("The ciphers and algorithms used for cryptographic operations by the\nappliance are restricted to only those approved by FIPS.")])]),e._v(" "),s("li",[s("p",[e._v("The appliance allows only TLS1.1 and TLS 1.2 protocols for all TLS\ncommunications.")])]),e._v(" "),s("li",[s("p",[e._v("All SSH and SNMPv3 communication use only cipher suites and\nalgorithms approved by FIPS.")])])]),e._v(" "),s("p",[e._v("For additional information, see the FIPS-140 site at\n"),s("a",{attrs:{href:"http://csrc.nist.gov/groups/STM/cmvp/standards.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://csrc.nist.gov/groups/STM/cmvp/standards.html"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("ul",[s("li",[e._v("CNSA: The Commercial National Security Algorithm (CNSA) cryptography\nmode restricts HPE OneView to use only those algorithms included in\nthe CNSA suite. The CNSA suite is a subset of the general FIPS\nsupport and includes a set of algorithms used to protect national\nsecurity systems, including information classified as 'top\nsecret.' In the CNSA mode, the appliance uses only TLS 1.2 protocol\nand a CNSA-strength subset of the TLS 1.2 ciphers. Similarly, SSH\nand SNMP communication uses CNSA-compliant ciphers and algorithms.")])]),e._v(" "),s("p",[e._v("For additional information, see the CNSA standards site at\n"),s("a",{attrs:{href:"https://www.iad.gov/iad/programs/iad-initiatives/cnsa-suite.cfm",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.iad.gov/iad/programs/iad-initiatives/cnsa-suite.cfm"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v("Enforcing Complex Password")])]),e._v(" "),s("p",[e._v("This option allows the configuration of the Complex password\nrequirements for the HPE Synergy Composer.")]),e._v(" "),s("p",[e._v("Complex password is enforced when users change their password or create\nuser accounts. Complex password rules apply only for the local users\nconfigured in HPE OneView. For authentication directory service users,\nthe authentication directory configuration determines the password\ncomplexity rules")]),e._v(" "),s("p",[e._v("Complex passwords must contain the following:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Minimum of 14 characters")])]),e._v(" "),s("li",[s("p",[e._v("Minimum of one uppercase character")])]),e._v(" "),s("li",[s("p",[e._v("Minimum of one lowercase character")])]),e._v(" "),s("li",[s("p",[e._v("Minimum one number")])]),e._v(" "),s("li",[s("p",[e._v("Minimum of one special character. For example, !@#$^*_-=+,.?")])]),e._v(" "),s("li",[s("p",[e._v("No whitespace")])])]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v("Hardware Setup Access")])]),e._v(" "),s("p",[e._v("This option allows the configuration of the Hardware setup access to the\nHPE Synergy Composer. This option controls whether the Hardware Setup\nbutton is available from the appliance console. This button allows\ncredential-free access to the Hardware Setup user account from the\nphysical system console.")]),e._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[e._v("SSH Access")])]),e._v(" "),s("p",[e._v("This option allows the configuration of the SSH access to the HPE\nSynergy Composer. HPE OneView supports Secure Shell (SSH) to remotely\naccess the appliance to perform maintenance and recovery operations.\nWithout SSH access, you must access the appliance console. To avoid\nrequiring a console access, SSH access is enabled by default. However,\nremote access to maintenance and recovery operations is considered a\nsecurity risk by some users. Therefore, HPE OneView provides the option\nto disable the remote access to the appliance via SSH.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("SSH access must be enabled to access the serial console CLI. The serial\nconsole CLI is used to access unmanaged interconnects.")])]),e._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[e._v("Services Console Access")])]),e._v(" "),s("p",[e._v("This option allows the configuration of the access to Service Console.\nBy default, authorized technical support personnel are allowed to access\nyour system through the appliance console and diagnose issues that you\nhave reported.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("There are several ways to allow authorized support representatives to\naccess the appliance for advanced troubleshooting operations:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("If on site, the authorized support representative can use the\nappliance console or an SSH session to the HPE OneView maintenance\nconsole.")])]),e._v(" "),s("li",[s("p",[e._v("A shared virtual desktop session where the authorized support\nrepresentative works with you to obtain a one-time password and you\nallow him to access the appliance console or maintenance console\nthrough the virtual desktop.")])]),e._v(" "),s("li",[s("p",[e._v("You can enable service console access and the service sessions\nfeatures to allow the authorized support representative to access\nHPE OneView directly through a secure tunnel.")])])])]),e._v(" "),s("p",[e._v("Support access is privileged, which enables the authorized technical\nsupport representative to debug any problems on the appliance. Access to\nthe services access account requires the technician to obtain a one-time\npassword using a challenge/response mechanism similar to the one for a\npassword reset. Any time after the initial configuration of the\nappliance, an Infrastructure administrator can enable or disable\nservices access through the user interface.")]),e._v(" "),s("p",[e._v("For more information on the securing HPE Synergy Composer, refer to the\ndocumentation at\n"),s("a",{attrs:{href:"https://techlibrary.hpe.com/docs/enterprise/servers/oneview5.2/cicf/en/index.html#c_settings-security.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://techlibrary.hpe.com/docs/enterprise/servers/oneview5.2/cicf/en/index.html#c_settings-security.html"),s("OutboundLink")],1)]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("PREREQUISITES")]),e._v(" "),s("ul",[s("li",[e._v("CentOS 7 or RHEL 7.6 Installer machine with the following\nconfigurations is essential:")])]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Python 3.6 or above is present and latest version associated pip is\npresent.")])]),e._v(" "),s("li",[s("p",[e._v("Ansible 2.9 is installed")])])]),e._v(" "),s("ul",[s("li",[s("p",[e._v("HPE Synergy Composer powered by HPE OneView version 5.2 is available\nwithin the deployment environment.")])]),e._v(" "),s("li",[s("p",[e._v("HPE OneView login credentials for the account with Infrastructure\nadministrator privileges is required.")])])])]),e._v(" "),s("h2",{attrs:{id:"installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),s("p",[e._v("Figure 43 shows an overview of the steps involved in configuring\ncomposer security via the automation.")]),e._v(" "),s("p",[e._v("Figure 43. Flow of execution for composer security")]),e._v(" "),s("ol",[s("li",[s("p",[e._v('Enable Python3 and Ansible Environment as mentioned in "Installer\nmachine" section of deployment guide.')])]),e._v(" "),s("li",[s("p",[e._v("There are 2 input files config.json and server_details.json, both of\nwhich needs to be updated with values for all the variables present\nwithin them.")]),e._v(" "),s("ul",[s("li",[e._v("Execute the following command to open the config.json file and\nupdate it with the of HPE OneView IP address, X API version and\ncredentials.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ansible-vault edit config.json\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v('Default password for Ansible Vault file "config.json" is changeme.')])]),e._v(" "),s("p",[e._v("Example values for the input configuration is as follows")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_ip"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<IP address of HPE OneView>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_username"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(' "<username of HPE OneView with account\nInfrastructure administrator priviliges>"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(' "<password for HPE OneView with account\nInfrastructure administrator priviliges>"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_x_api_version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(' "<HPE OneView X API version'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1800")]),e._v(" for\nHPE OneView "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("5.2")]),e._v('>"\n\n'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Execute the following command to open the\ncomposer_security_config.json file and update it with the of desired\nsecurity configurations for HPE OneView.")])])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("vi")]),e._v(" composer_security_config.json\n")])])]),s("h2",{attrs:{id:"configurations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configurations"}},[e._v("#")]),e._v(" Configurations")]),e._v(" "),s("ol",[s("li",[e._v("Cryptographic mode")])]),e._v(" "),s("p",[e._v("Input variable name - CryptographicMode")]),e._v(" "),s("p",[e._v("Accepted values - Legacy (for enabling Legacy cryptographic mode),\nFIPS (for enabling FIPS cryptographic mode), CNSA (for enabling CNSA\ncryptographic mode)")]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v("Enforcing Complex Password")])]),e._v(" "),s("p",[e._v("Input variable name - enforceComplexPasswordEnabled")]),e._v(" "),s("p",[e._v("Accepted values - true (For enabling Complex Password) or false (For\ndisabling Complex Password)")]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v("Hardware Setup Access")])]),e._v(" "),s("p",[e._v("Input variable name - technicianEnabled")]),e._v(" "),s("p",[e._v("Accepted values - true (For enabling Hardware setup access) or false\n(For disabling Hardware setup access)")]),e._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[e._v("SSH Access")])]),e._v(" "),s("p",[e._v("Input variable name - allowSshAccess")]),e._v(" "),s("p",[e._v("Accepted values - true (For enabling SSH access) or false (For\ndisabling SSH access)")]),e._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[e._v("Services Console Access")])]),e._v(" "),s("p",[e._v("Input variable name -- ServiceConsoleAccess")]),e._v(" "),s("p",[e._v("Accepted values - true (For enabling Authorized services access) or\nfalse (For disabling Authorized services access)")]),e._v(" "),s("p",[e._v("Example values for the input configuration is as follows.")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"CryptographicMode"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CNSA"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"enforceComplexPasswordEnabled"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"technicianEnabled"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"allowSshAccess"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ServiceConsoleAccess"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("Executing the script to update the security configurations of HPE\nSynergy Composer.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" python3 composer_security.py\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("This script requires a confirmation to configure the security features\nof HPE OneView and prompts the following message.")]),e._v(" "),s("p",[e._v("For general settings:")]),e._v(" "),s("p",[e._v("Message - Press enter to confirm the changes. By pressing enter you\nconfirm that you understand the implications and agree for the state\nto be updated:")]),e._v(" "),s("p",[e._v("For cryptographic mode settings:")]),e._v(" "),s("p",[e._v("Message - This operation requires a reboot and approximately takes\naround 40 mins once the request is initiated.")]),e._v(" "),s("p",[e._v('Press "Enter" to confirm the changes. By pressing enter you confirm\nthat you understand the implications and agree for the state to be\nupdated:')]),e._v(" "),s("p",[e._v("The installation user could choose to press enter to approve the updates\nor could choose to abort the execution of the script.")])])])}),[],!1,null,null,null);t.default=n.exports}}]);