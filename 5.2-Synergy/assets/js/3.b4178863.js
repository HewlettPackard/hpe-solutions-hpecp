(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{504:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-1.0be08579.png"},505:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-2.9aed2294.png"},506:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-3.601e34cc.png"},507:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-4.b979d61a.png"},508:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-5.05b0f298.png"},509:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-6.3ea262f8.png"},510:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-7.f363e266.png"},511:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-8.4d2d8c95.png"},512:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-9.31364969.png"},513:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-10.3f52e691.png"},514:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-11.43e58867.png"},515:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-12.400ae3b8.png"},516:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-13.bf0eb1f6.png"},517:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-14.14eea213.png"},518:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-15.2d004bca.png"},519:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-16.1dc5b4b5.png"},520:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-17.18536b80.png"},521:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-18.74c3e479.png"},522:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-19.1d57b350.png"},523:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-20.c259b2b0.png"},524:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-21.ca5497d6.png"},525:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-22.8e0a6b7c.png"},526:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-23.cccb3197.png"},527:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-24.954a0c78.png"},528:function(e,t,s){e.exports=s.p+"assets/img/SD-HA-25.8a5a1e19.png"},569:function(e,t,s){"use strict";s.r(t);var a=s(42),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"hpecp-airgap-installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hpecp-airgap-installation"}},[e._v("#")]),e._v(" HPECP Airgap Installation")]),e._v(" "),a("h2",{attrs:{id:"solution-components-overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#solution-components-overview"}},[e._v("#")]),e._v(" Solution components overview")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("RMT server")])]),e._v(" "),a("li",[a("p",[e._v("Repo server")]),e._v(" "),a("p",[e._v("a.  Docker registry")]),e._v(" "),a("p",[e._v("b.  K8s RPMs registry")])]),e._v(" "),a("li",[a("p",[e._v("Deploying HPE Ezmeral Container Platform")])])]),e._v(" "),a("h2",{attrs:{id:"solution-architecture"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#solution-architecture"}},[e._v("#")]),e._v(" Solution architecture")]),e._v(" "),a("p",[a("img",{attrs:{src:s(504),alt:""}}),e._v(" "),a("strong",[e._v("Figure 39.")]),e._v(" Solution of Architecture of HPECP Airgap")]),e._v(" "),a("h2",{attrs:{id:"rmt-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rmt-server"}},[e._v("#")]),e._v(" RMT server")]),e._v(" "),a("h3",{attrs:{id:"server-hardware-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-hardware-configuration"}},[e._v("#")]),e._v(" Server hardware configuration")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Network adapter - 1 interface on the production network.")])]),e._v(" "),a("li",[a("p",[e._v("CPU - 12 vCPU")])]),e._v(" "),a("li",[a("p",[e._v("Memory - 36 GB")])]),e._v(" "),a("li",[a("p",[e._v("Hard disk - a minimum of 3 TB")]),e._v(" "),a("p",[e._v("a.  / - 2 TB")]),e._v(" "),a("p",[e._v("b.  /home - 1 TB")]),e._v(" "),a("p",[e._v("c.  /swap - 70 GB")])]),e._v(" "),a("li",[a("p",[e._v("OS - SUSE Enterprise Linux 15 SP2\n"),a("img",{attrs:{src:s(505),alt:""}}),e._v(" "),a("strong",[e._v("Figure 40.")]),e._v(" Server Hardware Configuration")])])]),e._v(" "),a("h3",{attrs:{id:"partition-details"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#partition-details"}},[e._v("#")]),e._v(" Partition details")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" lsblk\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT\n\nsda 8:0 0 10T 0 disk\n\n├─sda1 8:1 0 8M 0 part\n\n└─sda2 8:2 0 10T 0 part\n\n├─system-root 254:0 0 2T 0 lvm /\n\n├─system-swap 254:1 0 70.8G 0 lvm\n\n└─system-home 254:2 0 953.2G 0 lvm /home\n\nsr0 11:0 1 663M 0 rom\n\nsr1 11:1 1 1.1G 0 rom\n")])])]),a("h3",{attrs:{id:"configuring-rmt-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-rmt-server"}},[e._v("#")]),e._v(" Configuring RMT server")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("While installing OS or once the OS is installed on the server to be\nused as SLES RMT server, provide the following details:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("While installing OS")]),e._v(" "),a("ul",[a("li",[e._v("Select the registration method as "),a("strong",[e._v('"register system via\nscc.suse.com"')]),e._v(" and provide the "),a("strong",[e._v("registered email address")]),e._v(" and\n"),a("strong",[e._v('registration code for "SUSE Linux Enterprise Server for x86,\nAMD64, Intel64"')])])])]),e._v(" "),a("li",[a("p",[e._v("Once OS is installed, register the system and enable required\nmodules by executing below commands.")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("SUSEConnect -r REGISTRATION_CODE -e EMAIL_ADDRESS")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-ha/15.2/x86_64 -r ADDITIONAL REGCODE")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-caas/15.2/x86_64 -r ADDITIONAL REGCODE")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-containers/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-desktop-applications/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-development-tools/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-cap-tools/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p PackageHub/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -d -p sle-module-server-applications/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-legacy/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-public-cloud/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-web-scripting/15.2/x86_64")])])])])])]),e._v(" "),a("li",[a("p",[e._v("Once the server is registered to SUSE and the required modules are\nenabled, perform the following steps to install RMT service. Ensure\nthe server is connected to the internet at this moment.")]),e._v(" "),a("ul",[a("li",[e._v("Install the prerequisite modules"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("screen")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" iputils bind-utils\n")])])])]),e._v(" "),a("li",[e._v("Install RMT server module"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" rmt-server\n")])])])])])]),e._v(" "),a("li",[a("p",[e._v("Configure RMT")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" yast2 rmt\n")])])])])]),e._v(" "),a("p",[e._v("This will open a wizard for configuring RMT service")]),e._v(" "),a("ul",[a("li",[a("p",[e._v('Enter your organization credentials. To retrieve your credentials,\nlogin to scc.suse.com/proxies and look for the "Mirroring\nCredentials"\n'),a("img",{attrs:{src:s(506),alt:""}}),e._v(" "),a("strong",[e._v("Figure 41.")]),e._v(" Retrieve Credentials\n"),a("img",{attrs:{src:s(507),alt:""}}),e._v(" "),a("strong",[e._v("Figure 42.")]),e._v(" RMT configuration step 1\n"),a("img",{attrs:{src:s(508),alt:""}}),e._v(" "),a("strong",[e._v("Figure 43.")]),e._v(" RMT configuration step 1 successful")])]),e._v(" "),a("li",[a("p",[e._v("Enter credentials for a new MariaDB user and database name. This\nuser will then be created. Then select Next.\n"),a("img",{attrs:{src:s(509),alt:""}}),e._v(" "),a("strong",[e._v("Figure 44.")]),e._v(" RMT configuration step 2")])]),e._v(" "),a("li",[a("p",[e._v("If a password for the MariaDB root user is already set, you are\nrequired to enter it. If no password is set for root, you are asked\nto enter a new one.\n"),a("img",{attrs:{src:s(510),alt:""}}),e._v(" "),a("strong",[e._v("Figure 45.")]),e._v(" RMT configuration set database root password")])]),e._v(" "),a("li",[a("p",[e._v("Enter a common name for the SSL certificates. The common name should\nusually be the fully qualified domain name (FQDN) of the server.\nEnter all domain names and IP addresses with which you want to reach\nthe RMT server as alternative common names.\n"),a("img",{attrs:{src:s(511),alt:""}}),e._v(" "),a("strong",[e._v("Figure 46.")]),e._v(" RMT configuration step 3")])]),e._v(" "),a("li",[a("p",[e._v("When all common names are entered, select Next.")])]),e._v(" "),a("li",[a("p",[e._v("Provide a password for the CA private certificate key and click OK.\n"),a("img",{attrs:{src:s(512),alt:""}}),e._v(" "),a("strong",[e._v("Figure 47.")]),e._v(" RMT configuration setting CA private key")])]),e._v(" "),a("li",[a("p",[e._v("If firewalld is enabled on this system, enable the checkbox to open\nthe required ports.\n"),a("img",{attrs:{src:s(513),alt:""}}),e._v(" "),a("strong",[e._v("Figure 48.")]),e._v(" RMT configuration step 4")])]),e._v(" "),a("li",[a("p",[e._v("Continue with Next.\n"),a("img",{attrs:{src:s(514),alt:""}}),e._v(" "),a("strong",[e._v("Figure 49.")]),e._v(" RMT configuration step 5")])]),e._v(" "),a("li",[a("p",[e._v("To view the summary, click Next. Close YaST by clicking Finish. YaST\nthen enables and starts all systemd services and timers.\n"),a("img",{attrs:{src:s(515),alt:""}}),e._v(" "),a("strong",[e._v("Figure 50.")]),e._v(" RMT configuration Summary")])])]),e._v(" "),a("h2",{attrs:{id:"enabling-slp-announcements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-slp-announcements"}},[e._v("#")]),e._v(" Enabling SLP Announcements")]),e._v(" "),a("p",[e._v("The SLP is service discovery protocol that allows computers and other\ndevices to find services in a LAN without prior configuration. RMT\nincludes the SLP service description file /etc/slp.reg.d/rmt-server.reg.")]),e._v(" "),a("p",[e._v("To enable SLP announcements of the RMT service, follow these steps:")]),e._v(" "),a("ol",[a("li",[e._v("If firewalld is running, open relevant ports and reload\nthe firewalld configuration:")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" firewall-cmd --permanent --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("427")]),e._v("/tcp\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" firewall-cmd --permanent --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("427")]),e._v("/udp\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" firewall-cmd --reload\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Verify that SLP server is installed and possibly install it:")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" openslp-server\n")])])]),a("p",[e._v("3.Enable and start the SLP service:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v(" slpd.service\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" systemctl restart slpd.service\n")])])]),a("h2",{attrs:{id:"mirror-suse-products-and-packages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mirror-suse-products-and-packages"}},[e._v("#")]),e._v(" Mirror SUSE products and packages")]),e._v(" "),a("ol",[a("li",[e._v("Synchronise all repositories and ID that you have access to.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" rmt-cli "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sync")]),e._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("List and enable all the products")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" rmt-cli product list --all\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" rmt-cli product "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Start mirror of enabled products")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("screen")]),e._v(" rmt-cli mirror\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[e._v("Register clients to the RMT server using the following URL")]),e._v(" "),a("ul",[a("li",[e._v("As a boot parameter")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("regurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(".ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("ul",[a("li",[e._v("As a local subscription server")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect --url "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(".ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])])])]),e._v(" "),a("h2",{attrs:{id:"download-the-packages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#download-the-packages"}},[e._v("#")]),e._v(" Download the packages")]),e._v(" "),a("p",[e._v("The following files, packages and RPMs are necessary for installing\nKubernetes cluster in HPECP in an airgap environment. Download them when\nthe system is connected to internet. Once they are downloaded,\ndisconnect the server from the internet.")]),e._v(" "),a("ol",[a("li",[e._v("Container images")])]),e._v(" "),a("p",[e._v("Refer to appendix "),a("a",{attrs:{href:"#appendix"}},[e._v("Images required for deploying Kubernetes\ndeployment")]),e._v(" for detailed list of images to\ninstall HPECP & kubernetes in an airgap environment.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("For Internal QA -- link to obtain container images "),a("a",{attrs:{href:"https://bdk8s.s3.us-east-2.amazonaws.com/5.2.1/images.tgz",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://bdk8s.s3.us-east-2.amazonaws.com/5.2.1/images.tgz"),a("OutboundLink")],1)])]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Kubernetes RPMs")])]),e._v(" "),a("p",[e._v("Refer to appendix for the "),a("a",{attrs:{href:"#appendix"}},[e._v("RPMs required for deploying\nKubernetes")]),e._v(" for a detailed list of RPMs required\nto install kubernetes in an airgap environment.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("For Internal link QA -- link to obtain kubernetes RPMs -- "),a("a",{attrs:{href:"https://bdk8s.s3.us-east-2.amazonaws.com/5.2/k8s-rpms.tar",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://bdk8s.s3.us-east-2.amazonaws.com/5.2/k8s-rpms.tar"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"disconnect-from-internet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disconnect-from-internet"}},[e._v("#")]),e._v(" Disconnect from internet")]),e._v(" "),a("p",[e._v("Once the server is connected to SUSE customer center, up to date with\nthe repositories, packages, RPMs and files, and they are mirrored into\nthe local repository, it is time to disconnect the server from the\ninternet. Refer to appendix "),a("a",{attrs:{href:"#appendix"}},[e._v("Simulating an air gap\nenvironment")]),e._v(" for the configuration steps utilized\nin this document.")]),e._v(" "),a("h3",{attrs:{id:"registering-to-rmt-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registering-to-rmt-server"}},[e._v("#")]),e._v(" Registering to RMT server")]),e._v(" "),a("p",[e._v('Once OS is installed, please refer to the "'),a("RouterLink",{attrs:{to:"/solution-deployment/preparing-sles-15-hosts-for-hpecp-installation.html"}},[e._v("Preparing hosts for\nHPECP")]),e._v('" section for\nregistering client systems to RMT server.')],1),e._v(" "),a("p",[e._v("Make sure following modules are enabled and up to date by running")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" refresh\n")])])]),a("ul",[a("li",[a("p",[e._v("SUSEConnect -p sle-ha/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-caas/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-containers/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-desktop-applications/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-development-tools/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-cap-tools/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p PackageHub/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -d -p sle-module-server-applications/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-legacy/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-public-cloud/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("SUSEConnect -p sle-module-web-scripting/15.2/x86_64")])])]),e._v(" "),a("h2",{attrs:{id:"docker-registry-and-k8s-rpms-repository-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-registry-and-k8s-rpms-repository-server"}},[e._v("#")]),e._v(" Docker registry and K8s RPMs repository server")]),e._v(" "),a("h3",{attrs:{id:"server-hardware-configuration-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-hardware-configuration-2"}},[e._v("#")]),e._v(" Server hardware configuration")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Network adapter - 1 interface on the production network.")])]),e._v(" "),a("li",[a("p",[e._v("CPU - 2 vCPU")])]),e._v(" "),a("li",[a("p",[e._v("Memory - 16 GB")])]),e._v(" "),a("li",[a("p",[e._v("Hard disk - a minimum of 500 GB")])]),e._v(" "),a("li",[a("p",[e._v("OS - SUSE Enterprise Linux 15 SP2")])])]),e._v(" "),a("p",[a("img",{attrs:{src:s(516),alt:""}}),e._v(" "),a("strong",[e._v("Figure 51.")]),e._v(" Server Hardware details")]),e._v(" "),a("h3",{attrs:{id:"partition-details-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#partition-details-2"}},[e._v("#")]),e._v(" Partition details")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT\n\nsda 8:0 0 500G 0 disk\n\n├─sda1 8:1 0 500M 0 part /boot/efi\n\n└─sda2 8:2 0 499.5G 0 part\n\n├─system-swap 254:0 0 63G 0 lvm [SWAP]\n\n├─system-root 254:1 0 150G 0 lvm /\n\n├─system-var 254:2 0 100G 0 lvm /var\n\n├─system-srv 254:3 0 100G 0 lvm /srv\n\n└─system-home 254:4 0 25G 0 lvm /home\n\nsr0 11:0 1 1024M 0 rom\n\nsr1 11:1 1 1024M 0 rom \n")])])]),a("h3",{attrs:{id:"configuring-docker-registry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-docker-registry"}},[e._v("#")]),e._v(" Configuring docker registry")]),e._v(" "),a("p",[e._v("Login to the server which would be utilized as the docker register and\nperform the following steps:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Register to the RMT server. Refer to section "),a("a",{attrs:{href:"#registering-to-rmt-server"}},[e._v("Registering to RMT\nserver")]),e._v(" for more details.")])]),e._v(" "),a("li",[a("p",[e._v("Install and start Docker on SLES")])])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" docker\ndocker --version\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v(" docker.service\nsystemctl start docker.service\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Create registry on SLES as a docker container with restart policy as\nalways.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker run -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("5000")]),e._v(":5000 --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("always --name registry registry:2\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[e._v("Disconnect the server from the internet. Refer to section\n"),a("a",{attrs:{href:"#appendix"}},[e._v("Simulating an air gap environment")]),e._v(" for more\ndetails.")])]),e._v(" "),a("li",[a("p",[e._v("Pull, Tag & Push an image to the local registry")])])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Copy the container images tar file from the repository server\ninto this server.")])]),e._v(" "),a("li",[a("p",[e._v("Navigate to the folder containing images required for deploying HPECP")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("path_to_the_images_tar_file"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Load the tar file containing the images required to setup the\nkubernetes cluster from HPECP in an airgap environment. See Appendix\nfor detailed list of images needed.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker load -i "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("images_tar_file"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Tag each of the image from the list using the following command")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker tag "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("individual image name extracted from images_tar_file"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /\nlocalhost:5000/"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("individual image name extracted from images_tar_file"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Push each of the tagged image using the following command")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker push localhost:5000/"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("individual image name extracted from images_tar_file"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("There is a script available in k8simages.tgz called\npopulate_registry.sh. Using this script, we can load, tag & push all k8s\nimages. Instead of tagging with localhost, it's better to tag with\ninternal registry ip address.")]),e._v(" "),a("p",[e._v("Eg: ./populate_registry.sh load k8s_container_metadata.txt\n20.0.81.131:5000 (Here 20.0.81.131 is our internal registry ip address)")])])]),e._v(" "),a("li",[a("p",[e._v("Other than the images in k8s-images.tgz, we need below docker images\nfrom registry.suse.com")]),e._v(" "),a("ul",[a("li",[e._v("registry.suse.com/caasp/v4.5/kube-apiserver:v1.18.6")]),e._v(" "),a("li",[e._v("registry.suse.com/caasp/v4.5/kube-controller-manager:v1.18.6")]),e._v(" "),a("li",[e._v("registry.suse.com/caasp/v4.5/kube-scheduler:v1.18.6")]),e._v(" "),a("li",[e._v("registry.suse.com/caasp/v4.5/kube-proxy:v1.18.6")]),e._v(" "),a("li",[e._v("registry.suse.com/caasp/v4.5/pause:3.2")]),e._v(" "),a("li",[e._v("registry.suse.com/caasp/v4.5/etcd:3.4.3")]),e._v(" "),a("li",[e._v("registry.suse.com/caasp/v4.5/coredns:1.6.7")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Please use below script to download suse images. Use this script\non a server which have internet access.")])]),e._v(" "),a("p",[a("img",{attrs:{src:s(517),alt:""}}),e._v(" "),a("strong",[e._v("Figure 52.")]),e._v(" Script to download suse images")])])]),e._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[e._v("Test the presence of images")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker images\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker images "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("\"'internal registry ip address':5000\"")]),e._v("\n")])])]),a("h3",{attrs:{id:"validate-registry-from-local-environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validate-registry-from-local-environment"}},[e._v("#")]),e._v(" Validate registry from local environment")]),e._v(" "),a("ol",[a("li",[e._v("Within the same server")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker pull "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("image_not_present_in_registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" - fail since internet isn't available\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker pull "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("image_within_registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" - success\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[e._v("Outside of this registry server, on the hosts that need access to\nthe local docker registry")]),e._v(" "),a("ul",[a("li",[e._v("Create or update the /etc/docker/daemon.json on the docker hosts\nwhich needs access to the above created docker registry. Assuming\nthere are no other settings in the file, it should have the\nfollowing contents:")])]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"insecure-registries"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<registry_server_ip_address>:5000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v('Substitute the "<registry_server_ip_address>" with the address of\ninsecure registry.')]),e._v(" "),a("ul",[a("li",[e._v("Restart Docker for the changes to take effect.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" systemctl restart docker.service\n")])])]),a("ul",[a("li",[e._v("Pull the images")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker pull "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("image_not_present_in_registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" - fail since internet isn't available\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" docker pull "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("image_within_registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" - success\n")])])])])]),e._v(" "),a("h3",{attrs:{id:"configuring-kubernetes-rpms-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-kubernetes-rpms-server"}},[e._v("#")]),e._v(" Configuring Kubernetes RPMs server")]),e._v(" "),a("ol",[a("li",[e._v("Install Nginx")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" nginx\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Check the nginx configuration file (/etc/nginx/nginx.conf) to know\nthe nginx server root directory")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nginx _server_root_directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Copy and untar the kubernetes RPM tar file within the nginx server\nroot directory")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("tar")]),e._v(" xvf kubernetes.tar\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Start the Nginx web service")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" systemctl start nginx\n")])])]),a("h3",{attrs:{id:"troubleshooting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),a("p",[e._v('In case there is an issue NGINX "403 Forbidden" Error, perform the\nfollowing steps')]),e._v(" "),a("ol",[a("li",[e._v("Ensure right file permissions are set to the files to be served by\nweb server")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("755")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("path_to_k8s_rpms_in_nginx_root_directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Change the ownership of all the files")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" -R nginx:nginx *\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Restart NGINX")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" nginx -s reload\n")])])]),a("h3",{attrs:{id:"validate-the-availability-of-kubernetes-rpms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validate-the-availability-of-kubernetes-rpms"}},[e._v("#")]),e._v(" Validate the availability of Kubernetes RPMs")]),e._v(" "),a("p",[e._v("To validate if the kubernetes RPMs is accessible, execute the following\ncommand:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" http://"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("webserver_ip_address"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("/kubernetes/\n")])])]),a("h2",{attrs:{id:"hpecp-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hpecp-deployment"}},[e._v("#")]),e._v(" HPECP Deployment")]),e._v(" "),a("h3",{attrs:{id:"operating-system-deployment-for-hpecp-hosts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operating-system-deployment-for-hpecp-hosts"}},[e._v("#")]),e._v(" Operating System Deployment for HPECP hosts")]),e._v(" "),a("p",[e._v("The supported version of SLES for deploying HPE Container Platform is\nSUSE Enterprise Linux 15 SP2. This section outlines the manual steps\ninvolved in deploying OS for the servers used as HPECP controller, HPECP\ngateway, kubernetes master and kubernetes worker nodes.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("OS can be deployed by using the script located in\n"),a("a",{attrs:{href:"https://github.com/HewlettPackard/hpe-solutions-hpecp/tree/master/Synergy/scripts/os_deployment",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/HewlettPackard/hpe-solutions-hpecp/tree/master/Synergy/scripts/os_deployment"),a("OutboundLink")],1),e._v('.\nPlease refer to the "'),a("RouterLink",{attrs:{to:"/solution-deployment/deploying-os-on-bare-metal-nodes.html"}},[e._v("Deploying operating system on bare-metal\nnodes")]),e._v('" section in this\ndocument for more details.')],1)]),e._v(" "),a("ol",[a("li",[a("p",[e._v('Boot using the installation Media select language & and the product\n"Sles 15 SP2".')])]),e._v(" "),a("li",[a("p",[e._v('Select you registration method as the RMT server set up previously\nin section RMT server and choose "yes" to receive updated repos.')]),e._v(" "),a("p",[a("img",{attrs:{src:s(518),alt:""}}),e._v(" "),a("strong",[e._v("Figure 53.")]),e._v(" Registration Method")])]),e._v(" "),a("li",[a("p",[e._v("Select the following Extension and Modules:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("sle-ha/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("caasp/4.0/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("PackageHub/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-legacy/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-python2/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-containers/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-basesystem/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-public-cloud/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-desktop-applications/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-server-applications/15.2/x86_64")])]),e._v(" "),a("li",[a("p",[e._v("sle-module-development-tools/15.2/x86_64")])])])])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Alternatively, refer to the section "),a("a",{attrs:{href:"#registering-to-rmt-server"}},[e._v("Registering to RMT\nserver")]),e._v(" for registering to RMT server once OS is\ninstalled.")])]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[e._v("Using guided Partitioning setup the OS partition as shown below")]),e._v(" "),a("p",[a("img",{attrs:{src:s(519),alt:""}}),e._v(" "),a("strong",[e._v("Figure 54.")]),e._v(" OS Partitioning")])]),e._v(" "),a("li",[a("p",[e._v('Choose "minimal" installation mode:')]),e._v(" "),a("p",[a("img",{attrs:{src:s(520),alt:""}}),e._v(" "),a("strong",[e._v("Figure 55.")]),e._v(" System Role")])]),e._v(" "),a("li",[a("p",[e._v("In the install summary ensure SSH access is enabled and then click\nInstall.\n"),a("img",{attrs:{src:s(521),alt:""}}),e._v(" "),a("strong",[e._v("Figure 56.")]),e._v(" Enable SSH Access")])])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("DNS/Bind A record, PTR record is required for the HPE CP installation.")])]),e._v(" "),a("h2",{attrs:{id:"hpecp-host-preparation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hpecp-host-preparation"}},[e._v("#")]),e._v(" HPECP Host preparation")]),e._v(" "),a("p",[e._v("This section covers manual steps for preparing Hosts for ECP Ezmeral\nContainer Platform. Automated script is available for HPECP Host\npreparation at\n"),a("a",{attrs:{href:"https://github.com/HewlettPackard/hpe-solutions-hpecp/tree/master/Synergy/scripts/prepare_hpecp_hosts",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/HewlettPackard/hpe-solutions-hpecp/tree/master/Synergy/scripts/prepare_hpecp_hosts"),a("OutboundLink")],1),e._v('.\nPlease refer to the following section "'),a("RouterLink",{attrs:{to:"/solution-deployment/preparing-sles-15-hosts-for-hpecp-installation.html"}},[e._v("Host\nPreparation")]),e._v('" section\nin this document for more details.')],1),e._v(" "),a("ol",[a("li",[e._v("If using proxy or ignore, setup proxy as shown below in the\nconfiguration file - /etc/sysconfig/proxy")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('> NO_PROXY="localhost, 127.0.0.1l"\n> HTTP_PROXY="http://<proxy server>:port/"\n> HTTPS_PROXY=" http://<proxy server>:port/"\n')])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Fix autofs configuration.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" autofs\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sed")]),e._v(" -i"),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("''")]),e._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"s|#/net.*$|/net -hosts|g"')]),e._v(" /etc/auto.master\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Install libcgroup V1")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" libcgroup1\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Reboot the server")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("> reboot\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Perform a system update if necessary")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("> zypper up --non-interactive\n")])])]),a("h2",{attrs:{id:"preparing-legacy-gpu-hosts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preparing-legacy-gpu-hosts"}},[e._v("#")]),e._v(" Preparing legacy GPU hosts")]),e._v(" "),a("p",[e._v("All the above repos for worker hosts are required. In addition, perform\nthe following steps from\n"),a("a",{attrs:{href:"http://docs.bluedata.com/50_gpu-driver-installation",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://docs.bluedata.com/50_gpu-driver-installation"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Except of course, you will be using zypper instead of yum.")]),e._v(" "),a("p",[e._v("For the new kernel to load.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" kernel-default-devel gcc-c++ perl pciutils\n")])])]),a("p",[e._v("In addition, you need to install the following package before running\nthe NVIDIA installer on the host.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("zypper")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" libglvnd-devel\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("If the server is not rebooted platform install will fail. You may choose\nto not reboot now for GPU hosts.")])]),e._v(" "),a("h2",{attrs:{id:"hpecp-controller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hpecp-controller"}},[e._v("#")]),e._v(" HPECP controller")]),e._v(" "),a("p",[e._v("Once the OS is installed as per the section "),a("a",{attrs:{href:"#operating-system-deployment-for-hpecp-hosts"}},[e._v("Operating System Deployment\nfor HPECP hosts")]),e._v(", login to\nthe server to be configured as the HPECP controller and perform the\nsteps as per "),a("a",{attrs:{href:"#hpecp-host-preparation"}},[e._v("Host preparation")]),e._v(" section.")]),e._v(" "),a("h3",{attrs:{id:"installing-hpecp-controller-for-sles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing-hpecp-controller-for-sles"}},[e._v("#")]),e._v(" Installing HPECP Controller for SLES")]),e._v(" "),a("p",[e._v("On the same server, perform the following steps to install HPECP\ncontroller")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Copy the hpe-cp-sles-release-5.2-xxxx.bin to /root folder from the\nrepository server.")]),e._v(" "),a("p",[e._v("You can download .bin file from\nhttps://bluedata-releases.s3.amazonaws.com/5.2/hpe-cp-sles-release-5.2-3020.bin")])]),e._v(" "),a("li",[a("p",[e._v("Copy the feed.json file from the repository server to the\n/srv/bluedata/catalog folder.")])])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" --p /srv/bluedata/catalog\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("location_of_feed.json_in_controller"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /srv/bluedata/catalog/\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Give execute permission using the following command")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x /root/hpe-cp-sles-release-5.2-xxxx.bin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x /srv/bluedata/catalog/\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x /srv/bluedata/catalog/*\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Execute the HPECP bin file using the following command")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ./hpe-cp-sles-release-5.2-3020.bin --default-password "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("password"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[a("p",[e._v("Once completed, Login to the controller via browser to land to the\nadmin UI")])]),e._v(" "),a("li",[a("p",[e._v("Once logged in to the HPECP Controller UI, configure the controller\nby providing the details as shown in the following figure and click\nsubmit.")]),e._v(" "),a("p",[a("img",{attrs:{src:s(522),alt:""}}),e._v(" "),a("strong",[e._v("Figure 57.")]),e._v(" HPECP controller configuration")])]),e._v(" "),a("li",[a("p",[e._v("Controller installation is then instantiated, wait until it is\ncomplete.")]),e._v(" "),a("p",[a("img",{attrs:{src:s(523),alt:""}}),e._v(" "),a("strong",[e._v("Figure 58.")]),e._v(" HPECP controller setup")])]),e._v(" "),a("li",[a("p",[e._v("Once the installation is complete, the HPECP login page would be\naccessible.\n"),a("img",{attrs:{src:s(524),alt:""}}),e._v(" "),a("strong",[e._v("Figure 59.")]),e._v(" HPECP Login Page")]),e._v(" "),a("p",[a("img",{attrs:{src:s(525),alt:""}}),e._v(" "),a("strong",[e._v("Figure 60.")]),e._v(" HPECP Dashboard")])])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Default credentials to HPECP login access is admin/admin123")])]),e._v(" "),a("h2",{attrs:{id:"hpecp-gateway-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hpecp-gateway-server"}},[e._v("#")]),e._v(" HPECP gateway server")]),e._v(" "),a("p",[e._v("Once the OS is installed as per the section "),a("a",{attrs:{href:"#operating-system-deployment-for-hpecp-hosts"}},[e._v("Operating System Deployment\nfor HPECP hosts")]),e._v(", login to\nthe server to be configured as the HPECP controller and perform the\nsteps as per "),a("RouterLink",{attrs:{to:"/Solution-Deployment/Manually-Install-And-Configure-HPECP.html#hpe-ezmeral-container-platform-gateway"}},[e._v("gateway")]),e._v(" section.")],1),e._v(" "),a("h3",{attrs:{id:"airgap-settings-in-hpecp-controller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#airgap-settings-in-hpecp-controller"}},[e._v("#")]),e._v(" Airgap settings in HPECP Controller")]),e._v(" "),a("p",[e._v('The Air Gap tab of the System Settings screen allows the Platform\nAdministrator to specify "air gap" settings to be used when the\nKubernetes hosts, clusters, and tenants within HPE Container Platform do\nnot have connectivity to the Internet.')]),e._v(" "),a("p",[e._v("Enter the following settings:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Yum repository section of this tab:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Base URL: This is the URL to the YUM repository.")])]),e._v(" "),a("li",[a("p",[e._v("Repo GPG URL: This is the URL to the YUM repository GNU Privacy\nGuard (optional).")])]),e._v(" "),a("li",[a("p",[e._v("RPM GPG URL: This is the URL to the RPM repository GNU Privacy\nGuard (optional).")])])])]),e._v(" "),a("li",[a("p",[e._v("The Container Registry section of this tab:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Container URL: URL to the Docker registry that contains the\nimages needed for air-gap Kubernetes installations within HPE\nContainer Platform.")])]),e._v(" "),a("li",[a("p",[e._v("Username: Username to access the Docker registry, if needed.")])]),e._v(" "),a("li",[a("p",[e._v("Password: Password to access the Docker registry, if needed.")])]),e._v(" "),a("li",[a("p",[e._v("Secured: Checking the Secured checkbox indicates that the\nKubernetes air-gap Docker registry is secure.")])]),e._v(" "),a("li",[a("p",[e._v("Docker Client Certificate: Location of the Docker registry\ncertificate, if you are using a secured connection. Clicking the\nBrowse button opens a browser-standard Open dialog box that\nallows you to navigate to and locate the certificate to add.")])]),e._v(" "),a("li",[a("p",[e._v("Clicking Submit saves your changes.")])])]),e._v(" "),a("p",[a("img",{attrs:{src:s(526),alt:""}}),e._v(" "),a("strong",[e._v("Figure 61.")]),e._v(" Airgap Settings")])])]),e._v(" "),a("h2",{attrs:{id:"kubernetes-hosts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-hosts"}},[e._v("#")]),e._v(" Kubernetes hosts")]),e._v(" "),a("h3",{attrs:{id:"preparing-kubernetes-hosts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preparing-kubernetes-hosts"}},[e._v("#")]),e._v(" Preparing Kubernetes hosts")]),e._v(" "),a("p",[e._v("Once the OS is installed as per the section "),a("a",{attrs:{href:"#operating-system-deployment-for-hpecp-hosts"}},[e._v("Operating System Deployment\nfor HPECP hosts")]),e._v(", login to\nthe server to be configured as the HPECP controller and perform the\nsteps as per "),a("a",{attrs:{href:"#hpecp-host-preparation"}},[e._v("Host preparation")]),e._v(" section.")]),e._v(" "),a("p",[e._v("After the hosts are prepared, login to the servers and perform the\nfollowing:")]),e._v(" "),a("ul",[a("li",[e._v("Edit the /etc/sysctl.conf file and turn off reverse path filter (add\nthe following line if necessary):"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vi")]),e._v(" /etc/sysctl.conf\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" net.ipv4.conf.all.rp_filter "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("\n")])])])]),e._v(" "),a("li",[e._v("Reboot the server for changes to reflect"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("reboot")]),e._v("\n")])])])]),e._v(" "),a("li",[e._v("Turn off swap"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" swapoff --a\n")])])])])]),e._v(" "),a("p",[e._v("Once above-mentioned configurations are completed on the host, we can\nperform the kubernetes host installation and create the kubernetes\ncluster")]),e._v(" "),a("h3",{attrs:{id:"kubernetes-host-installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-host-installation"}},[e._v("#")]),e._v(" Kubernetes host installation")]),e._v(" "),a("p",[e._v('Please refer to the "'),a("RouterLink",{attrs:{to:"/Solution-Deployment/manually-install-and-configure-hpecp.html#add-kubernetes-hosts"}},[e._v("Adding Kubernetes Hosts")]),e._v('" section in this document for installing Hosts."\nsection in this document for installing Hosts.')],1),e._v(" "),a("h3",{attrs:{id:"creating-a-kubernetes-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-kubernetes-cluster"}},[e._v("#")]),e._v(" Creating a Kubernetes Cluster")]),e._v(" "),a("p",[e._v('Please refer to the "'),a("RouterLink",{attrs:{to:"/Solution-Deployment/manually-install-and-configure-hpecp.html#create-a-kubernetes-cluster"}},[e._v("Creating Kubernetes\nCluster")]),e._v('" section in this document for\ncreating cluster.')],1),e._v(" "),a("h3",{attrs:{id:"launching-kubernetes-dashboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#launching-kubernetes-dashboard"}},[e._v("#")]),e._v(" Launching Kubernetes Dashboard")]),e._v(" "),a("p",[e._v('Please refer to the "'),a("RouterLink",{attrs:{to:"/Solution-Deployment/manually-install-and-configure-hpecp.html#launch-the-kubernetes-dashboard"}},[e._v("Launching Kubernetes Dashboard")]),e._v('" section to launch\nkubernetes dashboard')],1),e._v(" "),a("h3",{attrs:{id:"validating-the-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validating-the-deployment"}},[e._v("#")]),e._v(" Validating the deployment")]),e._v(" "),a("p",[e._v("The following example is based on the WordPress and MySQL with\nPersistent\nVolume described "),a("a",{attrs:{href:"https://kubernetes.io/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("MySQL and WordPress each require a Persistent Volume to store data.\nTheir Persistent Volume Claims will be created at the deployment step.\nHPE Container Platform uses MapR as the default persistent volume.")]),e._v(" "),a("ul",[a("li",[e._v("Begin by adding a Secret generator in kustomization.yaml by executing\nthe following command, being sure to replace YOUR_PASSWORD with the\npassword you want to use.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" wordpress\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" wordpress\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("EOF "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("./kustomization.yaml\n")])])]),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("secretGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("pass\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("literals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" password=YOUR_PASSWORD\n\nEOF\n")])])]),a("ul",[a("li",[a("p",[e._v("Next, use either of the following methods, create manifests based on the\nfollowing two yaml manifest files for the MySQL and WordPress services,\nrespectively:")]),e._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://kubernetes.io/examples/application/wordpress/mysql-deployment.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kubernetes.io/examples/application/wordpress/mysql-deployment.yaml"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://kubernetes.io/examples/application/wordpress/wordpress-deployment.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kubernetes.io/examples/application/wordpress/wordpress-deployment.yaml"),a("OutboundLink")],1)])])])]),e._v(" "),a("li",[a("p",[e._v("If you installed HPE Container Platform with tenant storage, then MapR\nwill already be registered as the default Storage Class in this\nnamespace.")])])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl get StorageClass\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("NAME PROVISIONER AGE\ndefault (default) com.mapr.csi-kdf 39h\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl describe StorageClass\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Name : default\nIsDefaultClass : Yes\nAnnotations : storageclass.kubernetes.io/is-default-class=true\nProvisioner : com.mapr.csi-kdf\nParameters :\ncldbHosts=192.168.20.131:7222,cluster=epic.mapr.cluster,csi.storage.k8s.io/provisioner-secret-name=mapr-user-secret,csi.storage.k8s.io/provisioner-secret-namespace=mapr-csi,csiNodePublishSecretName=mapr-ticket-secret,csiNodePublishSecretNamespace=mapr-csi,mountPre\nfix=/mapr-csi,namePrefix=k8s-1-,platinum=true,restServers=192.168.20.131:8443,securityType=secure\nAllowVolumeExpansion : <unset>\nMountOptions : <none>\nReclaimPolicy : Delete\nVolumeBindingMode : Immediate\nEvents : <none>\n")])])]),a("p",[e._v("In these two manifest files, both the WordPress service and MySQL are\nrequesting a persistent volume (PV)")]),e._v(" "),a("p",[e._v("Neither pod makes any explicit request for a specific storageClassName.\nHence, they will use the default MapR StorageClass.")]),e._v(" "),a("ul",[a("li",[e._v("Edit the WordPress manifest yaml to use the NodePort service instead of\nLoadBalancer service. This needs to be done in order for HPE Container\nPlatform to re-map the ports.")])]),e._v(" "),a("p",[e._v("Continue by adding these two manifests to the kustomization.yaml file.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("EOF "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v("./kustomization.yaml\n")])])]),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("resources")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("deployment.yaml\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" wordpress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("deployment.yaml\n\nEOF\n")])])]),a("ul",[a("li",[e._v("The kustomization.yaml contains all of the resources for deploying a\nWordPress site and a MySQL database. You can apply the directory, and\nthen verify both the MapR volumes and the services, as follows:")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl apply --kustomize ./\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("secret/mysql-pass-9tt65k5fgm created\n\nservice/wordpress-mysql created\n\nservice/wordpress created\n\ndeployment.apps/wordpress-mysql created\n\ndeployment.apps/wordpress created\n\npersistentvolumeclaim/mysql-pv-claim created\n\npersistentvolumeclaim/wp-pv-claim created\n")])])]),a("ul",[a("li",[e._v("Confirm that PVC is using the MapR StorageClass (see highlighted text\nbelow).")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl get pvc\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE\n\nmysql-pv-claim Bound mapr-pv-16f97a33-b8dd-488a-b6db-1d94a84286e2 20Gi\nRWO default 48s\n\nwp-pv-claim Bound mapr-pv-896b3504-e9ba-4593-b9a0-88a9ece392b5 20Gi RWO\ndefault 48s\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl get "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("pv")]),e._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS\nREASON AGE\n\nmapr-pv-32850109-ef66-42db-9522-b563fbc01eae 10Gi RWO Delete Bound\nbdwebterm/pvc-kd-977sb-0 default 41h\n\nmapr-pv-a24b1733-39db-40d2-bdaf-0be7c22ed83b 10Gi RWO Delete Bound\nbdwebterm/pvc-kd-nbwhn-0 default 31h\n\nmapr-pv-dbf96aed-dafd-47b7-87d4-7d343f182d8b 20Gi RWO Delete Bound\ndefault/mysql-pv-claim default 69s\n\nmapr-pv-e3c1db71-2865-425c-971e-c01466e9d295 20Gi RWO Delete Bound\ndefault/wp-pv-claim default 69s\n\nmapr-pv-ed5f1be3-9be2-4470-83cf-67f9b31e9dbf 10Gi RWO Delete Bound\nbdwebterm/pvc-kd-dl2\n")])])]),a("ul",[a("li",[e._v("Label the WordPress service so that the front-end NodePort service will\nbe exposed via the HPE Container Platform Gateway host. This step is not\nnecessary if the service was created in the namespace of a tenant that\nhas the Map Services to Gateway option enabled.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl get services\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE\n\nkubernetes ClusterIP 10.96.0.1 <none> 443/TCP 26h\n\nwordpress NodePort 10.96.98.248 <none> 80:30996/TCP 24s\n\nwordpress-mysql ClusterIP None <none> 3306/TCP 24s\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl label svc wordpress hpecp.hpe.com/hpecp-internal-gateway"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("service/wordpress labeled\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl describe "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" wordpress\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Name: wordpress\n\nNamespace: default\n\nLabels: app=wordpress\n\nhpecp.hpe.com/hpecp-internal-gateway=true\n\nAnnotations: hpecp-internal-gateway/80: mip.storage.enterprise.net:10006\n\nSelector: app=wordpress,tier=frontend\n\nType: NodePort\n\nIP: 10.96.98.248\n\nPort: <unset> 80/TCP\n\nTargetPort: 80/TCP\n\nNodePort: <unset> 30996/TCP\n\nEndpoints: 10.244.2.11:80\n\nSession Affinity: None\n\nExternal Traffic Policy: Cluster\n\nEvents:\n\nType Reason Age From Message\n\n---- ------ ---- ---- -------\n\nNormal Service 26s kubedirector Created HPECP K8S service\n")])])]),a("ul",[a("li",[a("p",[e._v("Copy the IP address and port number (see highlighted text above) to your\nbrowser. You should see set-up page similar to the following screenshot:")]),e._v(" "),a("p",[a("img",{attrs:{src:s(527),alt:""}}),e._v(" "),a("strong",[e._v("Figure 62.")]),e._v(" Wordpress Application")])]),e._v(" "),a("li",[a("p",[e._v("Destroy the application deployments (e.g. pods) and restart the\ndeployments, making sure to preserve the WordPress application\ninformation and still preserved.")])])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl delete deployment wordpress\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('deployment.extensions "wordpress" deleted\n')])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl delete deployment wordpress-mysql\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('deployment.extensions "wordpress-mysql" deleted\n')])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl get pods\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("No resources found.\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl get deployments\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("No resources found.\n")])])]),a("p",[e._v("The service is gone, as expected.\n"),a("img",{attrs:{src:s(528),alt:""}}),e._v(" "),a("strong",[e._v("Figure 63.")]),e._v(" Wordpress application is removed")]),e._v(" "),a("ul",[a("li",[e._v("Reapply the same deployment, and reconnect to persistent storage.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl apply -k ./\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("secret/mysql-pass-9tt65k5fgm unchanged\nservice/wordpress-mysql unchanged\nservice/wordpress unchanged\ndeployment.apps/wordpress-mysql created\ndeployment.apps/wordpress created\npersistentvolumeclaim/mysql-pv-claim unchanged\npersistentvolumeclaim/wp-pv-claim unchanged\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl get pods\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("NAME READY STATUS RESTARTS AGE\n\nwordpress-594759d7f6-jdnvp 1/1 Running 0 27s\n\nwordpress-mysql-847b7b996d-dwf6s 1/1 Running 0 28s\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl describe "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" wordpress\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Name: wordpress\n\nNamespace: default\n\nLabels: app=wordpress\n\nHpecp.hpe.com/hpecp-internal-gateway=true\n\nAnnotations: hpecp-internal-gateway/80: mip.storage.enterprise.net:10006\n\nSelector: app=wordpress,tier=frontend\n\nType: NodePort\n\nIP: 10.96.35.129\n\nPort: <unset> 80/TCP\n\nTargetPort: 80/TCP\n\nNodePort: <unset> 31589/TCP\n\nEndpoints: 10.244.1.18:80\n\nSession Affinity: None\n\nExternal Traffic Policy: Cluster\n\nEvents:\n\nType Reason Age From Message\n\n---- ------ ---- ---- -------\n\nNormal Service 12m kubedirector Created HPECP K8S service\n")])])]),a("p",[e._v("The WordPress service is restored.")]),e._v(" "),a("ul",[a("li",[e._v("Finally, you will need to delete the entire deployment in order to free\nup all of the resources, including the persistent storage.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kubectl delete -k ./\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('secret "mysql-pass-9tt65k5fgm" deleted\nservice "wordpress-mysql" deleted\nservice "wordpress" deleted\ndeployment.apps "wordpress-mysql" deleted\ndeployment.apps "wordpress" deleted\npersistentvolumeclaim "mysql-pv-claim" deleted\npersistentvolumeclaim "wp-pv-claim" deleted\n')])])]),a("h2",{attrs:{id:"appendix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appendix"}},[e._v("#")]),e._v(" Appendix")]),e._v(" "),a("h3",{attrs:{id:"simulating-an-air-gap-environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#simulating-an-air-gap-environment"}},[e._v("#")]),e._v(" Simulating an air gap environment")]),e._v(" "),a("ol",[a("li",[e._v("Update a dummy gateway IP address in either of the following files")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vi")]),e._v(" /etc/sysconfig/network/ifcfg-eth0\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vi")]),e._v(" /etc/sysconfig/network/ifroute-eth0\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Restart the network")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" systemctl restart network\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Validate if the server is disconnected to internet or not")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" api.ipify.org\n")])])]),a("p",[e._v("This command provides the external facing IP address of the server in\nthe event server is connected to the internet")]),e._v(" "),a("h3",{attrs:{id:"suse-rmt-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#suse-rmt-server"}},[e._v("#")]),e._v(" SUSE RMT server")]),e._v(" "),a("p",[e._v("This section provides a detailed list of SUSE RPMs required for bringing\nup the HPECP setup on SUSE Linux SP2 in an airgap environment.")]),e._v(" "),a("h4",{attrs:{id:"suse-products-and-extensions-overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#suse-products-and-extensions-overview"}},[e._v("#")]),e._v(" SUSE products and extensions overview")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("Product")]),e._v(" "),a("th",[e._v("Mandatory")]),e._v(" "),a("th",[e._v("Mirror ?")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("4450")]),e._v(" "),a("td",[e._v("SLE-15-SP2-Desktop-NVIDIA-Driver for")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4001")]),e._v(" "),a("td",[e._v("SLE-Module-Basesystem15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3999")]),e._v(" "),a("td",[e._v("SLE-Module-Basesystem15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4098")]),e._v(" "),a("td",[e._v("SLE-Module-Containers15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4096")]),e._v(" "),a("td",[e._v("SLE-Module-Containers15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4118")]),e._v(" "),a("td",[e._v("SLE-Module-Desktop-Applications15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4116")]),e._v(" "),a("td",[e._v("SLE-Module-Desktop-Applications15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4138")]),e._v(" "),a("td",[e._v("SLE-Module-DevTools15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4136")]),e._v(" "),a("td",[e._v("SLE-Module-DevTools15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4173")]),e._v(" "),a("td",[e._v("SLE-Module-HPC15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4171")]),e._v(" "),a("td",[e._v("SLE-Module-HPC15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4193")]),e._v(" "),a("td",[e._v("SLE-Module-Legacy15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4191")]),e._v(" "),a("td",[e._v("SLE-Module-Legacy15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4033")]),e._v(" "),a("td",[e._v("SLE-Module-Packagehub-Subpackages15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4030")]),e._v(" "),a("td",[e._v("SLE-Module-Packagehub-Subpackages15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4223")]),e._v(" "),a("td",[e._v("SLE-Module-Public-Cloud15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4221")]),e._v(" "),a("td",[e._v("SLE-Module-Public-Cloud15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4243")]),e._v(" "),a("td",[e._v("SLE-Module-Python2-15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4241")]),e._v(" "),a("td",[e._v("SLE-Module-Python2-15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4058")]),e._v(" "),a("td",[e._v("SLE-Module-Server-Applications15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4056")]),e._v(" "),a("td",[e._v("SLE-Module-Server-Applications15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4163")]),e._v(" "),a("td",[e._v("SLE-Module-Web-Scripting15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4161")]),e._v(" "),a("td",[e._v("SLE-Module-Web-Scripting15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4078")]),e._v(" "),a("td",[e._v("SLE-Product-HA15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4076")]),e._v(" "),a("td",[e._v("SLE-Product-HA15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3934")]),e._v(" "),a("td",[e._v("SLE-Product-HPC-15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3932")]),e._v(" "),a("td",[e._v("SLE-Product-HPC-15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3939")]),e._v(" "),a("td",[e._v("SLE-Product-SLED15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3937")]),e._v(" "),a("td",[e._v("SLE-Product-SLED15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3963")]),e._v(" "),a("td",[e._v("SLE-Product-SLES15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3960")]),e._v(" "),a("td",[e._v("SLE-Product-SLES15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4278")]),e._v(" "),a("td",[e._v("SLE-Product-WE15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4276")]),e._v(" "),a("td",[e._v("SLE-Product-WE15-SP2-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("3962")]),e._v(" "),a("td",[e._v("SLE15-SP2-Installer-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4923")]),e._v(" "),a("td",[e._v("SUSE-CAASP-4.5-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4921")]),e._v(" "),a("td",[e._v("SUSE-CAASP-4.5-Updates for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4028")]),e._v(" "),a("td",[e._v("SUSE-PackageHub-15-SP2-Backports-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])]),e._v(" "),a("tr",[a("td",[e._v("4032")]),e._v(" "),a("td",[e._v("SUSE-PackageHub-15-SP2-Pool for sle-15-x86_64")]),e._v(" "),a("td",[e._v("Mandatory")]),e._v(" "),a("td",[e._v("Mirror")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);