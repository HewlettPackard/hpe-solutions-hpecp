(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{363:function(e,a,t){e.exports=t.p+"assets/img/AF-FALCO-1.06a57d81.png"},534:function(e,a,t){"use strict";t.r(a);var s=t(45),o=Object(s.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"deploying-falco-on-hpecp-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploying-falco-on-hpecp-cluster"}},[e._v("#")]),e._v(" Deploying Falco on HPECP cluster")]),e._v(" "),s("p",[e._v("Container runtime security is a new feature in HPE Ezmeral Container Platform 5.3 that improves container security and threat detection. Container runtime security detects anomalies in the host and in containers by using the extended Berkeley Packet Filter (eBPF) to isolate kernel system calls. The feature is enabled by default and based on the Falco Open Source Software.")]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("Pre-requisites")]),e._v(" "),s("p",[e._v("HPE Ezmeral Container Platform nodes should be running on SLES 15 SP2, the following general configuration is required on all nodes:")]),e._v(" "),s("ul",[s("li",[e._v("sudo must be installed.")]),e._v(" "),s("li",[e._v("SELinux should be disabled.")]),e._v(" "),s("li",[e._v("AppArmor is not supported.")]),e._v(" "),s("li",[e._v("Systemd is supported in legacy mode.")]),e._v(" "),s("li",[e._v("IPv6 is not supported.")])])]),e._v(" "),s("h3",{attrs:{id:"common-host-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#common-host-packages"}},[e._v("#")]),e._v(" Common Host Packages")]),e._v(" "),s("p",[e._v("All HPE Ezmeral Container Platform hosts must have the following SLES modules enabled:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p PackageHub/15.2/x86_64\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p sle-module-legacy/15.2/x86_64\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p sle-module-python2/15.2/x86_64\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p sle-module-containers/15.2/x86_64\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p sle-module-basesystem/15.2/x86_64\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p sle-module-public-cloud/15.2/x86_64\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p sle-module-desktop-applications/15.2/x86_64\n")])])]),s("h3",{attrs:{id:"kubernetes-host-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-host-packages"}},[e._v("#")]),e._v(" Kubernetes Host Packages")]),e._v(" "),s("p",[e._v("All Kubernetes hosts must have the following SLES module enabled in addition to the common packages listed above:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p caasp/4.5/x86_64\n")])])]),s("h3",{attrs:{id:"controller-shadow-controller-host-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#controller-shadow-controller-host-packages"}},[e._v("#")]),e._v(" Controller/Shadow Controller Host Packages")]),e._v(" "),s("p",[e._v("The Controller host (and Shadow Controller host, if platform HA is enabled) must have the following SLES modules enabled in addition to the common packages listed above:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SUSEConnect -p sle-ha/15.2/x86_64\n")])])]),s("h3",{attrs:{id:"falco-installation-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#falco-installation-process"}},[e._v("#")]),e._v(" Falco installation process")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Trust the falcosecurity GPG key and configure the zypper repository:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("> rpm --import https://falco.org/repo/falcosecurity-3672BA8F.asc\n> curl -s -o /etc/zypp/repos.d/falcosecurity.repo https://falco.org/repo/falcosecurity-rpm.repo\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Install kernel headers:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("> zypper -n install kernel-default-devel\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Install Falco:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("> zypper -n install falco\n")])])])])]),e._v(" "),s("p",[e._v("Falco, the kernel module driver, and a default configuration are now installed. Falco is being ran as a systemd unit.")]),e._v(" "),s("h3",{attrs:{id:"deploying-falco-on-hpecp-cluster-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploying-falco-on-hpecp-cluster-2"}},[e._v("#")]),e._v(" Deploying Falco on HPECP Cluster")]),e._v(" "),s("p",[e._v("If you already installed the Falco Kernel Module, HPE Ezmeral Container Platform automatically tags the Kubernetes host as "),s("code",[e._v("falco:true")]),e._v(":")]),e._v(" "),s("p",[s("img",{attrs:{src:t(363),alt:""}})]),e._v(" "),s("p",[e._v("If you have not installed the Falco Kernel Module yet, you must install it. After the Falco Kernel Module is installed, you must tag each node in the Kubernetes cluster with the "),s("code",[e._v("falco: true")]),e._v(" label.")])])}),[],!1,null,null,null);a.default=o.exports}}]);