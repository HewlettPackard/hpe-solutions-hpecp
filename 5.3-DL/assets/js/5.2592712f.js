(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{498:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-1.502ef1e6.png"},499:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-2.0be050cf.png"},500:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-3.ce2df6fc.png"},501:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-4-1.b862b72b.png"},502:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-7.5833e1ab.png"},503:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-8.ad833799.png"},504:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-9-1.47b22167.png"},505:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-10.335c171a.png"},506:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-11.80fba461.png"},507:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-12.3de74204.png"},508:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-13.cbc86278.png"},509:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-14.6bcc8577.png"},510:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-15.211323cf.png"},511:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-16.d70ef560.png"},512:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-17.4ae92fb5.png"},513:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-18.abd22929.png"},514:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-19.ccaaf53c.png"},515:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-20.ef75a9dc.png"},516:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-21.66d8ff8c.png"},517:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-22.f450248b.png"},518:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-23.782def06.png"},519:function(e,t,a){e.exports=a.p+"assets/img/SD-MI-24.f4ed0884.png"},556:function(e,t,a){"use strict";a.r(t);var s=a(45),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"manually-install-and-configure-hpe-ezmeral-container-platform-5-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manually-install-and-configure-hpe-ezmeral-container-platform-5-3"}},[e._v("#")]),e._v(" Manually Install and configure HPE Ezmeral Container Platform 5.3")]),e._v(" "),s("p",[e._v("Follow the steps as outlined to install and configure the HPE Ezmeral Container Platform. This section assumes you have followed all the prerequisites mentioned in the earlier sections.")]),e._v(" "),s("ol",[s("li",[e._v("Login to the host that will be used as the Controller host. Navigate to the HPE Ezmeral Container Platform binary (.bin) folder and provide the necessary execution permission.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" a+x "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("HPE Ezmeral Container Platform.bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ./"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("HPE Ezmeral Container Platform.bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" --default-password "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),e._v("password"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v("\n")])])]),s("p",[e._v("After the software is installed on the Controller, launch the Web UI using the URL provided at the end of the installation. The link should be similar to "),s("a",{attrs:{href:"http://controller-ip",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://controller-ip"),s("OutboundLink")],1),e._v(". The screen shown in Figure 15 will appear. For further configuration of the controller, provide the necessary information, and click Submit.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(498),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 15:")]),e._v(" HPE Ezmeral Container Platform Controller setup")]),e._v(" "),s("p",[e._v("Figure 16 shows the configuration required to set up a Data Fabric.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(499),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 16:")]),e._v(" HPE Ezmeral Container Platform Controller setup with HPE Ezmeral Data Fabric for Kubernetes")]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v("After the successful configuration, a screen appears as shown in Figure 17. Provide an appropriate username and password to login to the HPE Ezmeral Container Platform management UI.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(500),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 17:")]),e._v(" HPE Ezmeral Container Platform Management UI login screen")]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v("The dashboard as shown in Figure 18 appears upon successful login.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(501),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 18:")]),e._v(" HPE Ezmeral Container Platform Kubernetes - Dashboard")]),e._v(" "),s("h2",{attrs:{id:"hpe-ezmeral-container-platform-gateway"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hpe-ezmeral-container-platform-gateway"}},[e._v("#")]),e._v(" HPE Ezmeral Container Platform Gateway")]),e._v(" "),s("p",[e._v("Gateway servers map the services running in Ezmeral nodes or containers to ports and balance service loads. Add the designated gateway server(s) to the HPE Ezmeral Container Platform.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(502),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 19:")]),e._v(" HPE Ezmeral Container Platform gateway Kubernetes orchestrator")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Prior to adding the HPE Ezmeral Container Platform Gateway host, the HPE Ezmeral Container Platform needs to be put into Site Lockdown mode.")])]),e._v(" "),s("li",[s("p",[e._v("Add the gateway by clicking the Gateway LB on the left pane and provide the details as shown in Figure below. Click Add Gateway")])])]),e._v(" "),s("p",[s("img",{attrs:{src:a(503),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 20:")]),e._v(" HPE Ezmeral Container Platform - Adding Gateway Server")]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v('After the Gateway Server is installed, a green "Installed" status is seen as shown in Figure below.')])]),e._v(" "),s("p",[s("img",{attrs:{src:a(504),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 21:")]),e._v(" HPE Ezmeral Container Platform -- Gateway added and installed.")]),e._v(" "),s("h2",{attrs:{id:"gateway-host-high-availability"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gateway-host-high-availability"}},[e._v("#")]),e._v(" Gateway Host high availability")]),e._v(" "),s("p",[e._v("Redundancy for multiple Gateway hosts can be achieved by mapping multiple Gateway host IP addresses to a single hostname. When this is done, then either the DNS server or an external load balancer will load-balance requests to the hostname among each of the Gateway hosts on a round-robin basis. This ensures that there is no single point of failure for the Gateway host.")]),e._v(" "),s("p",[e._v("If required existing load balancing solution such as NGINX can be used to further enhance the capability of the Gateway such as least connection load balancing, SSL termination, etc.")]),e._v(" "),s("p",[e._v("The existing load balancing solution is shown in Figure 22 as an External load balancer.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(505),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 22:")]),e._v(" External Load Balancer for HPE Ezmeral Container Platform")]),e._v(" "),s("p",[e._v("Add multiple gateway servers as Gateway LB as shown in Figure 23. Map these Gateway host IP addresses to a single hostname that adds redundancy for Gateway hosts. After this is done, then either the DNS server or an external load balancer will load-balance requests to the hostname among all the Gateway hosts on a round-robin basis. This ensures that there is no single point of failure for the Gateway host.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(506),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 23:")]),e._v(" HPE Ezmeral Container Platform -- Gateway LB high availability")]),e._v(" "),s("p",[e._v("To add one or more Gateway Worker host(s) to your HPE Ezmeral Container Platform deployment, you must specify a hostname in the Hostname field. If you specify one hostname for more than one Gateway IP address, then either the DNS server or external load balancer will load-balance requests to the hostname among all the Gateway hosts on a round-robin basis.")]),e._v(" "),s("p",[e._v("For example, if three Gateway hosts are sharing a hostname, then users 1-3 will access virtual nodes via Hosts 1-3. User 4 will access virtual nodes using Host 1, and so on. You may add additional Gateway host(s) to an existing set at any time by specifying the IP address (es) of the Gateway host(s) you are adding and then entering an existing Gateway hostname. You can use Gateway hostnames in one of the following ways:")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Configure the Gateway hostname in the corporate DNS server to resolve the IP address (es) of the Gateway host(s).")])]),e._v(" "),s("li",[s("p",[e._v("Configure an external load balancer with rules to point traffic to the IP address (es) of the Gateway host(s). HPE Ezmeral Container Platform does not validate these rules.")])])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("Ensure that you exit from Site lockdown mode at this point.")])]),e._v(" "),s("h2",{attrs:{id:"add-kubernetes-hosts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-kubernetes-hosts"}},[e._v("#")]),e._v(" Add Kubernetes Hosts")]),e._v(" "),s("p",[e._v("Adding each K8s host is a two-phase process:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Phase 1: Add the host and do an initial bundle installation")])]),e._v(" "),s("li",[s("p",[e._v("Phase 2: Configure and confirm storage allocation for this node")])])]),e._v(" "),s("h3",{attrs:{id:"add-the-host-and-perform-the-initial-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-the-host-and-perform-the-initial-installation"}},[e._v("#")]),e._v(" Add the host and perform the initial installation")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Expand the KUBERNETES tab on the left pane of Web UI.")])]),e._v(" "),s("li",[s("p",[e._v("Navigate to the Hosts tab under the KUBERNETES tab. Do not select the Host view under the EPIC tab.")])]),e._v(" "),s("li",[s("p",[e._v("Enter details for IP List, Username, Credentials, and Password and then click Submit as in Figure below. HPE Ezmeral Container Platform will install the software and perform the initial configuration.")])])]),e._v(" "),s("p",[e._v('This step will complete when the status shows "phase 1 of 2 completed".')]),e._v(" "),s("p",[s("img",{attrs:{src:a(507),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 24:")]),e._v(" HPE Ezmeral Container Platform -- Adding Kubernetes Hosts")]),e._v(" "),s("h3",{attrs:{id:"configure-and-confirm-storage-allocation-for-this-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-and-confirm-storage-allocation-for-this-node"}},[e._v("#")]),e._v(" Configure and confirm storage allocation for this node")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("After the bundle is installed, phase 1 is completed. Click edit to confirm disk allocation. HPE Ezmeral Container Platform can only add raw disks.")])]),e._v(" "),s("li",[s("p",[e._v("After the disk allocation is confirmed, select the newly added host and click Install as in Figure below to complete the Kubernetes node installation.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(508),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 25:")]),e._v(" HPE Ezmeral Container Platform -- Storage allocation and installing Kubernetes nodes")])]),e._v(" "),s("li",[s("p",[e._v("When Install is selected, a new dialog box will appear to confirm the action. Select OK to continue. The installation will take between 5-10 minutes.")])]),e._v(" "),s("li",[s("p",[e._v("After the Kubernetes node is successfully added, a ready status appears as shown in Figure below")]),e._v(" "),s("p",[s("img",{attrs:{src:a(509),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 26:")]),e._v(" HPE Ezmeral Container Platform -- Kubernetes nodes Ready status")])])]),e._v(" "),s("h2",{attrs:{id:"create-a-kubernetes-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-kubernetes-cluster"}},[e._v("#")]),e._v(" Create a Kubernetes Cluster")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Click the Create Kubernetes Cluster on the Kubernetes Clusters page under the KUBERNETES tab.")])]),e._v(" "),s("li",[s("p",[e._v("Provide a Name and description and then select the master and worker nodes for the cluster as shown in Figure 27. When done, click Next. HPE Ezmeral Container Platform will automatically configure the HPE Ezmeral Data Fabric using the local drives configured with the nodes. This will be used as persistent storage for containerized application.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("Please refer to "),s("RouterLink",{attrs:{to:"/additional-features-and-functionality/creating-data-fabric-cluster-on-hpecp.html"}},[e._v("Creating DataFabric Cluster")]),e._v(" to create DataFabric cluster")],1)]),e._v(" "),s("p",[s("img",{attrs:{src:a(510),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 27:")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster creation Host configuration")])]),e._v(" "),s("li",[s("p",[e._v("The Cluster Configuration page appears. Provide the necessary information as shown below and then click on Next.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(511),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 28:")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster Configuration Page")])]),e._v(" "),s("li",[s("p",[e._v("Authentication page appears, Provide the necessary information if required and then click on Next.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(512),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 29:")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster Authentication Page")])]),e._v(" "),s("li",[s("p",[e._v("Application Configuration page appears, select the list of applications if required and then click on Next.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(513),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 30:")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster List of Applications")])]),e._v(" "),s("li",[s("p",[e._v("Summary page shows selected hosts and configuration details. Click on Submit to create cluster.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(514),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 31:")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster creation Summary")])]),e._v(" "),s("li",[s("p",[e._v("When the Kubernetes cluster has successfully been created, a page appears as in Figure below.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(515),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 32:")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster Creation Status "),s("strong",[e._v("ready")])])])]),e._v(" "),s("h2",{attrs:{id:"launch-the-kubernetes-dashboard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#launch-the-kubernetes-dashboard"}},[e._v("#")]),e._v(" Launch the Kubernetes Dashboard")]),e._v(" "),s("ul",[s("li",[e._v("To access the Kubernetes Dashboard for the cluster that was just created, click Dashboard icon for the cluster as shown in Figure below.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(516),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 33:")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Click the download icon to download the kubeconfig file. For more details on how to configure or use the kubeconfig on your client, see\n"),s("a",{attrs:{href:"https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/"),s("OutboundLink")],1),e._v(".")])]),e._v(" "),s("li",[s("p",[e._v("Select the Dashboard icon to open up a new window. This allows the user to access the Kubernetes Dashboard with an Auth token as shown in Figure below Highlight and copy the token. Select Proceed to Kubernetes Dashboard.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(517),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 34:")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard -- Auth token")])]),e._v(" "),s("li",[s("p",[e._v("Paste the token value in the next screen and click Sign in as in Figure below")]),e._v(" "),s("p",[s("img",{attrs:{src:a(518),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 35:")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard -- applying Auth token")])]),e._v(" "),s("li",[s("p",[e._v("A Dashboard Overview page similar to Figure below appears.")])])]),e._v(" "),s("p",[s("img",{attrs:{src:a(519),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 36:")]),e._v(" HPE Ezmeral Container Platform Kubernetes Dashboard")])])}),[],!1,null,null,null);t.default=r.exports}}]);