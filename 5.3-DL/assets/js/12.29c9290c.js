(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{359:function(t,e,a){t.exports=a.p+"assets/img/AF-DF1.e83ee758.png"},360:function(t,e,a){t.exports=a.p+"assets/img/AF-DF2.f6bc994b.png"},361:function(t,e,a){t.exports=a.p+"assets/img/AF-DF3.cbf99a36.png"},362:function(t,e,a){t.exports=a.p+"assets/img/AF-DF4.9a1c3202.png"},533:function(t,e,a){"use strict";a.r(e);var s=a(45),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"creating-data-fabric-cluster-on-hpe-ezmeral-container-platform-5-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-data-fabric-cluster-on-hpe-ezmeral-container-platform-5-3"}},[t._v("#")]),t._v(" Creating Data Fabric Cluster on HPE Ezmeral Container Platform 5.3")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Pre-requisites")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("HPE Ezmeral Container Platform GUI access")])]),t._v(" "),s("li",[s("p",[t._v("Gateway deployed in HA or non-HA mode")])]),t._v(" "),s("li",[s("p",[t._v("Minimum five (5) storage worker nodes")])])])]),t._v(" "),s("h3",{attrs:{id:"hardware-requirements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hardware-requirements"}},[t._v("#")]),t._v(" Hardware Requirements")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("Node")])]),t._v(" "),s("th",[s("strong",[t._v("CPU")])]),t._v(" "),s("th",[s("strong",[t._v("Memory")])]),t._v(" "),s("th",[s("strong",[t._v("Hard Disk1")])]),t._v(" "),s("th",[s("strong",[t._v("Hard Disk2")])]),t._v(" "),s("th",[s("strong",[t._v("Hard Disk3")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Controller")]),t._v(" "),s("td",[t._v("8")]),t._v(" "),s("td",[t._v("64GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",[t._v("Gateway")]),t._v(" "),s("td",[t._v("8")]),t._v(" "),s("td",[t._v("32GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",[t._v("Master")]),t._v(" "),s("td",[t._v("16")]),t._v(" "),s("td",[t._v("64GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",[t._v("Worker")]),t._v(" "),s("td",[t._v("64")]),t._v(" "),s("td",[t._v("128GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("500GB")]),t._v(" "),s("td",[t._v("500GB")])])])]),t._v(" "),s("h3",{attrs:{id:"process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process"}},[t._v("#")]),t._v(" Process")]),t._v(" "),s("h4",{attrs:{id:"host-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#host-configuration"}},[t._v("#")]),t._v(" Host Configuration")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Expand the KUBERNETES tab on the left pane of Web UI.")])]),t._v(" "),s("li",[s("p",[t._v("Navigate to the Hosts tab under the KUBERNETES tab. Do not select the Host view under the EPIC tab.")])]),t._v(" "),s("li",[s("p",[t._v("Enter details for IP List, Username, Credentials, and Password and then click Submit as in Figure below.")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(359),alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("Figure 64:")]),t._v(" Adding k8s cluster worker nodes for creating datafabric cluster creation")]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("HPE Ezmeral Container Platform will install the software and perform the initial configuration.")])]),t._v(" "),s("p",[t._v('This step will complete when the status shows "phase 1 of 2 completed".')]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[s("p",[t._v("After the bundle is installed, phase 1 is completed. Click edit to confirm disk allocation. HPE Ezmeral Container Platform can only add raw disks.")])]),t._v(" "),s("li",[s("p",[t._v("After the disk allocation is confirmed, select the newly added host and click Install to complete the Kubernetes node installation.")])]),t._v(" "),s("li",[s("p",[t._v("When Install is selected, a new dialog box will appear to confirm the action. Select OK to continue. The installation will take between 5-10 minutes.")])]),t._v(" "),s("li",[s("p",[t._v("After the Kubernetes node is successfully added, a ready status appears.")])])]),t._v(" "),s("h4",{attrs:{id:"creating-data-fabric-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-data-fabric-cluster"}},[t._v("#")]),t._v(" Creating Data Fabric Cluster")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Click the Create Kubernetes Cluster on the Kubernetes Clusters page under the KUBERNETES tab.")])]),t._v(" "),s("li",[s("p",[t._v("Provide a Name and description and then select the master and worker nodes for the cluster as shown in below Figure. When done, click Next. HPE Ezmeral Container Platform will automatically configure the HPE Ezmeral Data Fabric using the local drives configured with the nodes.\nThis will be used as persistent storage for containerized application.")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(360),alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("Figure 65:")]),t._v(" shows providing Data Fabric cluster creation name")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("The Cluster Configuration page appears. Provide the necessary information when prompted.")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("Please refer to the "),s("RouterLink",{attrs:{to:"/solution-deployment/manually-install-and-configure-HPECP.html#create-a-kubernetes-cluster"}},[t._v("Creating Kubernetes Cluster")]),t._v(" section for more details.")],1)]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("When the Kubernetes cluster has successfully been created, a page appears as in Figure below.")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(361),alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("Figure 66:")]),t._v(" shows the successful creation of datafabric cluster")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("More details can be found at "),s("a",{attrs:{href:"https://docs.containerplatform.hpe.com/53/reference/hpe-ezmeral-data-fabric-admini/HPE_Ezmeral_Data_Fabric_Requirements.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://docs.bluedata.com/53_hpe-ezmeral-data-fabric-requirements"),s("OutboundLink")],1)])]),t._v(" "),s("h4",{attrs:{id:"registering-data-fabric-nodes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#registering-data-fabric-nodes"}},[t._v("#")]),t._v(" Registering Data Fabric Nodes")]),t._v(" "),s("p",[t._v("1.Execute below commands on controller node to register datafabric nodes.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LOG_FILE_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/tmp/prepare.log "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MASTER_NODE_IP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Master_Ip"')]),t._v(" /opt/bluedata/bundles/hpe-cp-*/startscript.sh --action prepare_dftenants\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LOG_FILE_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/tmp/configure.log "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MASTER_NODE_IP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Master_Ip"')]),t._v(" /opt/bluedata/bundles/hpe-cp-*/startscript.sh --action configure_dftenants\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LOG_FILE_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/tmp/register.log "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MASTER_NODE_IP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Master_Ip"')]),t._v(" /opt/bluedata/bundles/hpe-cp-*/startscript.sh --action register_dftenants\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("While running the above commands, specify any one of the master ip from the Data Fabric cluster.")])]),t._v(" "),s("p",[t._v("2.Data Fabric with tenant storage page as shown below after data fabric registration.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(362),alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("Figure 67:")]),t._v(" Show the successful registration datafabric and tenant storage creation")])])}),[],!1,null,null,null);e.default=r.exports}}]);