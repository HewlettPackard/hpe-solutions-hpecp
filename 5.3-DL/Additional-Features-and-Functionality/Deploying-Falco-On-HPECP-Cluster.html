<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploying Falco on HPECP cluster | HPE EZMERAL CONTAINER PLATFORM 5.3 AND HPE EZMERAL DATA FABRIC ON DL SERVERS</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/css/0.styles.0080ec46.css" as="style"><link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/js/app.0bf5fbdc.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/js/2.e4aa28f4.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/js/23.10836832.js" as="script"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/10.3e35ae29.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/11.7a78ade3.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/12.29c9290c.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/13.3abab25a.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/14.f3739c20.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/15.7b65d052.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/16.aa61a115.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/17.e177a705.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/18.bf4d6486.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/19.821c324b.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/20.34cb7e9e.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/21.6efa84b0.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/22.e25ab30f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/24.70fbad91.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/25.79eb1c09.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/26.d079eae0.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/27.1500b9ac.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/28.2ccc6020.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/29.7254040f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/3.63bbce65.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/30.3252e07b.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/31.30b07ba7.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/32.6771f8e8.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/33.963c2f5f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/4.939e74e1.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/5.2592712f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/6.0eecfd8c.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/7.6c3a0600.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/8.42d5a489.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/9.80d6a3b4.js">
    <link rel="stylesheet" href="/hpe-solutions-hpecp/5.3-DL/assets/css/0.styles.0080ec46.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-hpecp/5.3-DL/" class="home-link router-link-active"><!----> <span class="site-name">HPE EZMERAL CONTAINER PLATFORM 5.3 AND HPE EZMERAL DATA FABRIC ON DL SERVERS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-hpecp/5.3-DL/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-hpecp/5.3-DL/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HPE EZMERAL CONTAINER PLATFORM 5.3 on HPE DL Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Additional Features and Functionality</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Lite-Touch-Installation.html" class="sidebar-link">Lite Touch Installation (LTI)</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-HPE-CSI-Driver-For-Nimble.html" class="sidebar-link">Deploying HPE CSI Driver for Nimble Storage on HPECP Container Platform 5.3</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Creating-Data-Fabric-Cluster-On-HPECP.html" class="sidebar-link">Creating Data Fabric Cluster on HPE Ezmeral Container Platform 5.3</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-Stateful-Application-Using-KubeDirector.html" class="sidebar-link">Deploying a 3-Tier Application using KubeDirector</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Role-Based-Access-Control.html" class="sidebar-link">HPE Ezmeral Container Platform - Role Based Access Control</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Physical-Worker-Node-Labeling.html" class="sidebar-link">Physical Worker Node Labeling in HPE Ezmeral Container Platform</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Istio-With-Kiali-Dashboard.html" class="sidebar-link">Istio with Kiali dashboard deployment on HPECP</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Kasten-Deployment-On-HPECP.html" class="sidebar-link">Kasten deployment on HPECP</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Kibana-Setup-On-HPECP.html" class="sidebar-link">Kibana Setup on HPECP</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Importing-Plain-K8s-Cluster.html" class="sidebar-link">Importing plain K8s cluster into HPECP cluster</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-Falco-On-HPECP-Cluster.html" aria-current="page" class="active sidebar-link">Deploying Falco on HPECP cluster</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Expand-And-Shrink-Cluster.html" class="sidebar-link">Expanding and Shrinking of a Compute Cluster</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/External-Load-Balancing-Using-NGINX.html" class="sidebar-link">External Load Balancing using NGINX</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deploying-falco-on-hpecp-cluster"><a href="#deploying-falco-on-hpecp-cluster" class="header-anchor">#</a> Deploying Falco on HPECP cluster</h1> <p>Container runtime security is a new feature in HPE Ezmeral Container Platform 5.3 that improves container security and threat detection. Container runtime security detects anomalies in the host and in containers by using the extended Berkeley Packet Filter (eBPF) to isolate kernel system calls. The feature is enabled by default and based on the Falco Open Source Software.</p> <div class="custom-block warning"><p class="custom-block-title">Pre-requisites</p> <p>HPE Ezmeral Container Platform nodes should be running on SLES 15 SP2, the following general configuration is required on all nodes:</p> <ul><li>sudo must be installed.</li> <li>SELinux should be disabled.</li> <li>AppArmor is not supported.</li> <li>Systemd is supported in legacy mode.</li> <li>IPv6 is not supported.</li></ul></div> <h3 id="common-host-packages"><a href="#common-host-packages" class="header-anchor">#</a> Common Host Packages</h3> <p>All HPE Ezmeral Container Platform hosts must have the following SLES modules enabled:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> SUSEConnect -p PackageHub/15.2/x86_64
<span class="token operator">&gt;</span> SUSEConnect -p sle-module-legacy/15.2/x86_64
<span class="token operator">&gt;</span> SUSEConnect -p sle-module-python2/15.2/x86_64
<span class="token operator">&gt;</span> SUSEConnect -p sle-module-containers/15.2/x86_64
<span class="token operator">&gt;</span> SUSEConnect -p sle-module-basesystem/15.2/x86_64
<span class="token operator">&gt;</span> SUSEConnect -p sle-module-public-cloud/15.2/x86_64
<span class="token operator">&gt;</span> SUSEConnect -p sle-module-desktop-applications/15.2/x86_64
</code></pre></div><h3 id="kubernetes-host-packages"><a href="#kubernetes-host-packages" class="header-anchor">#</a> Kubernetes Host Packages</h3> <p>All Kubernetes hosts must have the following SLES module enabled in addition to the common packages listed above:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> SUSEConnect -p caasp/4.5/x86_64
</code></pre></div><h3 id="controller-shadow-controller-host-packages"><a href="#controller-shadow-controller-host-packages" class="header-anchor">#</a> Controller/Shadow Controller Host Packages</h3> <p>The Controller host (and Shadow Controller host, if platform HA is enabled) must have the following SLES modules enabled in addition to the common packages listed above:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> SUSEConnect -p sle-ha/15.2/x86_64
</code></pre></div><h3 id="falco-installation-process"><a href="#falco-installation-process" class="header-anchor">#</a> Falco installation process</h3> <ul><li><p>Trust the falcosecurity GPG key and configure the zypper repository:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; rpm --import https://falco.org/repo/falcosecurity-3672BA8F.asc
&gt; curl -s -o /etc/zypp/repos.d/falcosecurity.repo https://falco.org/repo/falcosecurity-rpm.repo
</code></pre></div></li> <li><p>Install kernel headers:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; zypper -n install kernel-default-devel
</code></pre></div></li> <li><p>Install Falco:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; zypper -n install falco
</code></pre></div></li></ul> <p>Falco, the kernel module driver, and a default configuration are now installed. Falco is being ran as a systemd unit.</p> <h3 id="deploying-falco-on-hpecp-cluster-2"><a href="#deploying-falco-on-hpecp-cluster-2" class="header-anchor">#</a> Deploying Falco on HPECP Cluster</h3> <p>If you already installed the Falco Kernel Module, HPE Ezmeral Container Platform automatically tags the Kubernetes host as <code>falco:true</code>:</p> <p><img src="/hpe-solutions-hpecp/5.3-DL/assets/img/AF-FALCO-1.06a57d81.png" alt=""></p> <p>If you have not installed the Falco Kernel Module yet, you must install it. After the Falco Kernel Module is installed, you must tag each node in the Kubernetes cluster with the <code>falco: true</code> label.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Importing-Plain-K8s-Cluster.html" class="prev">
        Importing plain K8s cluster into HPECP cluster
      </a></span> <span class="next"><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Expand-And-Shrink-Cluster.html">
        Expanding and Shrinking of a Compute Cluster
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-hpecp/5.3-DL/assets/js/app.0bf5fbdc.js" defer></script><script src="/hpe-solutions-hpecp/5.3-DL/assets/js/2.e4aa28f4.js" defer></script><script src="/hpe-solutions-hpecp/5.3-DL/assets/js/23.10836832.js" defer></script>
  </body>
</html>
