<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating Data Fabric Cluster on HPE Ezmeral Container Platform 5.3 | HPE EZMERAL CONTAINER PLATFORM 5.3 AND HPE EZMERAL DATA FABRIC ON DL SERVERS</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/css/0.styles.0080ec46.css" as="style"><link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/js/app.0bf5fbdc.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/js/2.e4aa28f4.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.3-DL/assets/js/12.29c9290c.js" as="script"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/10.3e35ae29.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/11.7a78ade3.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/13.3abab25a.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/14.f3739c20.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/15.7b65d052.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/16.aa61a115.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/17.e177a705.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/18.bf4d6486.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/19.821c324b.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/20.34cb7e9e.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/21.6efa84b0.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/22.e25ab30f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/23.10836832.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/24.70fbad91.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/25.79eb1c09.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/26.d079eae0.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/27.1500b9ac.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/28.2ccc6020.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/29.7254040f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/3.63bbce65.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/30.3252e07b.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/31.30b07ba7.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/32.6771f8e8.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/33.963c2f5f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/4.939e74e1.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/5.2592712f.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/6.0eecfd8c.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/7.6c3a0600.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/8.42d5a489.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.3-DL/assets/js/9.80d6a3b4.js">
    <link rel="stylesheet" href="/hpe-solutions-hpecp/5.3-DL/assets/css/0.styles.0080ec46.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-hpecp/5.3-DL/" class="home-link router-link-active"><!----> <span class="site-name">HPE EZMERAL CONTAINER PLATFORM 5.3 AND HPE EZMERAL DATA FABRIC ON DL SERVERS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-hpecp/5.3-DL/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-hpecp/5.3-DL/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HPE EZMERAL CONTAINER PLATFORM 5.3 on HPE DL Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Additional Features and Functionality</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Lite-Touch-Installation.html" class="sidebar-link">Lite Touch Installation (LTI)</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-HPE-CSI-Driver-For-Nimble.html" class="sidebar-link">Deploying HPE CSI Driver for Nimble Storage on HPECP Container Platform 5.3</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Creating-Data-Fabric-Cluster-On-HPECP.html" aria-current="page" class="active sidebar-link">Creating Data Fabric Cluster on HPE Ezmeral Container Platform 5.3</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-Stateful-Application-Using-KubeDirector.html" class="sidebar-link">Deploying a 3-Tier Application using KubeDirector</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Role-Based-Access-Control.html" class="sidebar-link">HPE Ezmeral Container Platform - Role Based Access Control</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Physical-Worker-Node-Labeling.html" class="sidebar-link">Physical Worker Node Labeling in HPE Ezmeral Container Platform</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Istio-With-Kiali-Dashboard.html" class="sidebar-link">Istio with Kiali dashboard deployment on HPECP</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Kasten-Deployment-On-HPECP.html" class="sidebar-link">Kasten deployment on HPECP</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Kibana-Setup-On-HPECP.html" class="sidebar-link">Kibana Setup on HPECP</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Importing-Plain-K8s-Cluster.html" class="sidebar-link">Importing plain K8s cluster into HPECP cluster</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-Falco-On-HPECP-Cluster.html" class="sidebar-link">Deploying Falco on HPECP cluster</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Expand-And-Shrink-Cluster.html" class="sidebar-link">Expanding and Shrinking of a Compute Cluster</a></li><li><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/External-Load-Balancing-Using-NGINX.html" class="sidebar-link">External Load Balancing using NGINX</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="creating-data-fabric-cluster-on-hpe-ezmeral-container-platform-5-3"><a href="#creating-data-fabric-cluster-on-hpe-ezmeral-container-platform-5-3" class="header-anchor">#</a> Creating Data Fabric Cluster on HPE Ezmeral Container Platform 5.3</h1> <div class="custom-block warning"><p class="custom-block-title">Pre-requisites</p> <ul><li><p>HPE Ezmeral Container Platform GUI access</p></li> <li><p>Gateway deployed in HA or non-HA mode</p></li> <li><p>Minimum five (5) storage worker nodes</p></li></ul></div> <h3 id="hardware-requirements"><a href="#hardware-requirements" class="header-anchor">#</a> Hardware Requirements</h3> <table><thead><tr><th><strong>Node</strong></th> <th><strong>CPU</strong></th> <th><strong>Memory</strong></th> <th><strong>Hard Disk1</strong></th> <th><strong>Hard Disk2</strong></th> <th><strong>Hard Disk3</strong></th></tr></thead> <tbody><tr><td>Controller</td> <td>8</td> <td>64GB</td> <td>500GB</td> <td>500GB</td> <td>-</td></tr> <tr><td>Gateway</td> <td>8</td> <td>32GB</td> <td>500GB</td> <td>500GB</td> <td>-</td></tr> <tr><td>Master</td> <td>16</td> <td>64GB</td> <td>500GB</td> <td>500GB</td> <td>-</td></tr> <tr><td>Worker</td> <td>64</td> <td>128GB</td> <td>500GB</td> <td>500GB</td> <td>500GB</td></tr></tbody></table> <h3 id="process"><a href="#process" class="header-anchor">#</a> Process</h3> <h4 id="host-configuration"><a href="#host-configuration" class="header-anchor">#</a> Host Configuration</h4> <ol><li><p>Expand the KUBERNETES tab on the left pane of Web UI.</p></li> <li><p>Navigate to the Hosts tab under the KUBERNETES tab. Do not select the Host view under the EPIC tab.</p></li> <li><p>Enter details for IP List, Username, Credentials, and Password and then click Submit as in Figure below.</p></li></ol> <p><img src="/hpe-solutions-hpecp/5.3-DL/assets/img/AF-DF1.e83ee758.png" alt=""></p> <p><strong>Figure 64:</strong> Adding k8s cluster worker nodes for creating datafabric cluster creation</p> <ol start="4"><li>HPE Ezmeral Container Platform will install the software and perform the initial configuration.</li></ol> <p>This step will complete when the status shows &quot;phase 1 of 2 completed&quot;.</p> <ol start="5"><li><p>After the bundle is installed, phase 1 is completed. Click edit to confirm disk allocation. HPE Ezmeral Container Platform can only add raw disks.</p></li> <li><p>After the disk allocation is confirmed, select the newly added host and click Install to complete the Kubernetes node installation.</p></li> <li><p>When Install is selected, a new dialog box will appear to confirm the action. Select OK to continue. The installation will take between 5-10 minutes.</p></li> <li><p>After the Kubernetes node is successfully added, a ready status appears.</p></li></ol> <h4 id="creating-data-fabric-cluster"><a href="#creating-data-fabric-cluster" class="header-anchor">#</a> Creating Data Fabric Cluster</h4> <ol><li><p>Click the Create Kubernetes Cluster on the Kubernetes Clusters page under the KUBERNETES tab.</p></li> <li><p>Provide a Name and description and then select the master and worker nodes for the cluster as shown in below Figure. When done, click Next. HPE Ezmeral Container Platform will automatically configure the HPE Ezmeral Data Fabric using the local drives configured with the nodes.
This will be used as persistent storage for containerized application.</p></li></ol> <p><img src="/hpe-solutions-hpecp/5.3-DL/assets/img/AF-DF2.f6bc994b.png" alt=""></p> <p><strong>Figure 65:</strong> shows providing Data Fabric cluster creation name</p> <ol start="3"><li>The Cluster Configuration page appears. Provide the necessary information when prompted.</li></ol> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Please refer to the <a href="/hpe-solutions-hpecp/5.3-DL/solution-deployment/manually-install-and-configure-HPECP.html#create-a-kubernetes-cluster">Creating Kubernetes Cluster</a> section for more details.</p></div> <ol start="4"><li>When the Kubernetes cluster has successfully been created, a page appears as in Figure below.</li></ol> <p><img src="/hpe-solutions-hpecp/5.3-DL/assets/img/AF-DF3.cbf99a36.png" alt=""></p> <p><strong>Figure 66:</strong> shows the successful creation of datafabric cluster</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>More details can be found at <a href="https://docs.containerplatform.hpe.com/53/reference/hpe-ezmeral-data-fabric-admini/HPE_Ezmeral_Data_Fabric_Requirements.html" target="_blank" rel="noopener noreferrer">http://docs.bluedata.com/53_hpe-ezmeral-data-fabric-requirements<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h4 id="registering-data-fabric-nodes"><a href="#registering-data-fabric-nodes" class="header-anchor">#</a> Registering Data Fabric Nodes</h4> <p>1.Execute below commands on controller node to register datafabric nodes.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token assign-left variable">LOG_FILE_PATH</span><span class="token operator">=</span>/tmp/prepare.log <span class="token assign-left variable">MASTER_NODE_IP</span><span class="token operator">=</span><span class="token string">&quot;Master_Ip&quot;</span> /opt/bluedata/bundles/hpe-cp-*/startscript.sh --action prepare_dftenants

<span class="token operator">&gt;</span> <span class="token assign-left variable">LOG_FILE_PATH</span><span class="token operator">=</span>/tmp/configure.log <span class="token assign-left variable">MASTER_NODE_IP</span><span class="token operator">=</span><span class="token string">&quot;Master_Ip&quot;</span> /opt/bluedata/bundles/hpe-cp-*/startscript.sh --action configure_dftenants

<span class="token operator">&gt;</span> <span class="token assign-left variable">LOG_FILE_PATH</span><span class="token operator">=</span>/tmp/register.log <span class="token assign-left variable">MASTER_NODE_IP</span><span class="token operator">=</span><span class="token string">&quot;Master_Ip&quot;</span> /opt/bluedata/bundles/hpe-cp-*/startscript.sh --action register_dftenants
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>While running the above commands, specify any one of the master ip from the Data Fabric cluster.</p></div> <p>2.Data Fabric with tenant storage page as shown below after data fabric registration.</p> <p><img src="/hpe-solutions-hpecp/5.3-DL/assets/img/AF-DF4.9a1c3202.png" alt=""></p> <p><strong>Figure 67:</strong> Show the successful registration datafabric and tenant storage creation</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-HPE-CSI-Driver-For-Nimble.html" class="prev">
        Deploying HPE CSI Driver for Nimble Storage on HPECP Container Platform 5.3
      </a></span> <span class="next"><a href="/hpe-solutions-hpecp/5.3-DL/Additional-Features-and-Functionality/Deploying-Stateful-Application-Using-KubeDirector.html">
        Deploying a 3-Tier Application using KubeDirector
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-hpecp/5.3-DL/assets/js/app.0bf5fbdc.js" defer></script><script src="/hpe-solutions-hpecp/5.3-DL/assets/js/2.e4aa28f4.js" defer></script><script src="/hpe-solutions-hpecp/5.3-DL/assets/js/12.29c9290c.js" defer></script>
  </body>
</html>
