<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Securing HPE Synergy Composer powered by HPE OneView | HPE EZMERAL CONTAINER PLATFORM 5.1 AND HPE EZMERAL DATA FABRIC ON HPE SYNERGY AND HPE APOLLO 4200 GEN10 SERVERS</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="">
    <link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/css/0.styles.ad965169.css" as="style"><link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/js/app.ef59d087.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/js/2.d85522de.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/js/12.a84126ed.js" as="script"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/10.06af00e2.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/11.b5cb4c34.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/13.0680d9b2.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/14.795ea125.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/15.33cac8ca.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/16.88e99b7e.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/17.e57d4413.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/18.f9325bb2.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/19.de5eb1f0.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/20.be5877b8.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/21.01285221.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/22.4f2e2874.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/23.22cda737.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/24.a2a5f581.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/3.2cb330c1.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/4.e3f72e24.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/5.a6146132.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/6.062d4e39.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/7.8414efd9.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/8.41db8db4.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/9.164e8e89.js">
    <link rel="stylesheet" href="/hpe-solutions-hpecp/5.1/assets/css/0.styles.ad965169.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-hpecp/5.1/" class="home-link router-link-active"><!----> <span class="site-name">HPE EZMERAL CONTAINER PLATFORM 5.1 AND HPE EZMERAL DATA FABRIC ON HPE SYNERGY AND HPE APOLLO 4200 GEN10 SERVERS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HPE Ezmeral Container Platform 5.1</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Additional Features and Functionality</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-hpecp/5.1/Additional Features and Functionality/Deploying Stateful Application using KubeDirector.html" class="sidebar-link">Deploying a 3-Tier Application using KubeDirector</a></li><li><a href="/hpe-solutions-hpecp/5.1/Additional Features and Functionality/Role Based Access Control.html" class="sidebar-link">HPE Ezmeral Container Platform - Role-Based Access Control</a></li><li><a href="/hpe-solutions-hpecp/5.1/Additional Features and Functionality/Worker Node Labelling.html" class="sidebar-link">Physical worker node labeling in HPE Ezmeral Container Platform</a></li><li><a href="/hpe-solutions-hpecp/5.1/Additional Features and Functionality/Securing HPE Synergy Composer.html" class="active sidebar-link">Securing HPE Synergy Composer powered by HPE OneView</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Additional Features and Functionality/Securing HPE Synergy Composer.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Additional Features and Functionality/Securing HPE Synergy Composer.html#installation" class="sidebar-link">Installation</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resources and additional links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="securing-hpe-synergy-composer-powered-by-hpe-oneview"><a href="#securing-hpe-synergy-composer-powered-by-hpe-oneview" class="header-anchor">#</a> Securing HPE Synergy Composer powered by HPE OneView</h1> <p>This folder consists of initial scripts to secure HPE composer powered by HPE OneView.</p> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>This automation script updates the following security parameters available in HPE Synergy Composer:</p> <ol><li>Cryptographic mode</li></ol> <p>This option allows the configuration of the cryptography mode for your HPE Synergy Composer appliance. Available cryptography modes include:</p> <ul><li><p>Legacy: This is the default cryptography mode. In the legacy mode all TLS protocol versions (1.0, 1.1, and 1.2) and associated cipher suites for those versions are supported. TLS certificates are not required to have FIPS or CNSA minimum key lengths nor strong digital signatures.</p></li> <li><p>FIPS: Federal Information Processing Standard (FIPS) Publication 140-2 is a U.S. government computer security standard for products performing cryptography. The FIPS 140-2 Cryptographic Module Validation Program has validated the cryptography libraries of HPE OneView. When in the FIPS mode:</p> <ul><li><p>The cryptographic modules of the appliance are configured to operate in accordance with the FIPS 140-2 level 1 specification. This setting ensures that the required FIPS self-tests are run while loading these cryptographic modules.</p></li> <li><p>The ciphers and algorithms used for cryptographic operations by the appliance are restricted to only those approved by FIPS.</p></li> <li><p>The appliance allows only TLS1.1 and TLS 1.2 protocols for all TLS communications.</p></li> <li><p>All SSH and SNMPv3 communication use only cipher suites and algorithms approved by FIPS.</p></li></ul> <p>For additional information, see the FIPS-140 site at <a href="http://csrc.nist.gov/groups/STM/cmvp/standards.html" target="_blank" rel="noopener noreferrer">http://csrc.nist.gov/groups/STM/cmvp/standards.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p>CNSA: The Commercial National Security Algorithm (CNSA) cryptography mode restricts HPE OneView to use only those algorithms included in the CNSA suite. The CNSA suite is a subset of the general FIPS support and includes a set of algorithms used to protect national security systems, including information classified as 'top secret.' In the CNSA mode, the appliance uses only TLS 1.2 protocol and a CNSA-strength subset of the TLS 1.2 ciphers. Similarly, SSH and SNMP communication uses CNSA-compliant ciphers and algorithms.</p> <p>For additional information, see the CNSA standards site at <a href="https://www.iad.gov/iad/programs/iad-initiatives/cnsa-suite.cfm" target="_blank" rel="noopener noreferrer">https://www.iad.gov/iad/programs/iad-initiatives/cnsa-suite.cfm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li></ul> <ol start="2"><li>Enforcing Complex Password</li></ol> <p>This option allows the configuration of the Complex password requirements for the HPE Synergy Composer.</p> <p>Complex password is enforced when users change their password or create user accounts. Complex password rules apply only for the local users configured in HPE OneView. For authentication directory service users, the authentication directory configuration determines the password complexity rules</p> <p>Complex passwords must contain the following:</p> <ul><li>Minimum of 14 characters</li> <li>Minimum of one uppercase character</li> <li>Minimum of one lowercase character</li> <li>Minimum one number</li> <li>Minimum of one special character. For example, !@#$^*_-=+,.?</li> <li>No whitespace</li></ul> <ol start="3"><li>Hardware Setup Access</li></ol> <p>This option allows the configuration of the Hardware setup access to the HPE Synergy Composer. This option controls whether the Hardware Setup button is available from the appliance console. This button allows credential-free access to the HardwareSetup user account from the physical system console.</p> <ol start="4"><li>SSH Access</li></ol> <p>This option allows the configuration of the SSH access to the HPE Synergy Composer. HPE OneView supports Secure Shell (SSH) to remotely access the appliance to perform maintenance and recovery operations. Without SSH access, you must access the appliance console. To avoid requiring a console access, SSH access is enabled by default. However, remote access to maintenance and recovery operations is considered a security risk by some users. Therefore, HPE OneView provides the option to disable the remote access to the appliance via SSH.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>SSH access must be enabled to access the serial console CLI. The serial console CLI is used to access unmanaged interconnects.</p></div> <ol start="5"><li>Services Console Access</li></ol> <p>This option allows the configuration of the access to Service Console. By default, authorized technical support personnel are allowed to access your system through the appliance console and diagnose issues that you have reported.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>There are several ways to allow authorized support representatives to access the appliance for advanced troubleshooting operations:</p> <ul><li><p>If on site, the authorized support representative can use the appliance console or an SSH session to the HPE OneView maintenance console.</p></li> <li><p>A shared virtual desktop session where the authorized support representative works with you to obtain a one-time password and you allow him to access the appliance console or maintenance console through the virtual desktop.</p></li> <li><p>You can enable service console access and the service sessions features to allow the authorized support representative to access HPE OneView directly through a secure tunnel.</p></li></ul></div> <p>Support access is privileged, which enables the authorized technical support representative to debug any problems on the appliance. Access to the services access account requires the technician to obtain a one-time password using a challenge/response mechanism similar to the one for a password reset. Any time after the initial configuration of the appliance, an Infrastructure administrator can enable or disable services access through the user interface.</p> <p>For more information on the securing HPE Synergy Composer, refer to the documentation at <a href="https://techlibrary.hpe.com/docs/enterprise/servers/oneview5.2/cicf/en/index.html#c_settings-security.html" target="_blank" rel="noopener noreferrer">https://techlibrary.hpe.com/docs/enterprise/servers/oneview5.2/cicf/en/index.html#c_settings-security.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="custom-block warning"><p class="custom-block-title">Prerequisites</p> <ul><li><p>CentOS 7 Installer machine with the following configurations is essential:</p> <ul><li><p>Python 3.6 or above is present and latest version associated pip is present.</p></li> <li><p>Ansible 2.9 is installed</p></li></ul></li> <li><p>HPE Synergy Composer powered by HPE OneView version 5.2 is available within the deployment environmnemt.</p></li> <li><p>HPE OneView login credentials for the account with Infrastructure administrator priviliges is required.</p></li></ul></div> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>Figure 64 shows an overview of the steps involved in configuring composer security via the automation.</p> <p><img src="/hpe-solutions-hpecp/5.1/assets/img/Figure64.09a6a40d.png" alt=""></p> <p><strong>Figure 64.</strong> Flow of execution for composer security</p> <ol><li><p>Enable Python3 and Ansible Environment as mentioned in <a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Host-Configuration.html#installer-machine">Installer machine</a> section of deployment guide.</p></li> <li><p>There are 2 input files config.json and composer_security_config.json, both of which needs to be updated with values for all the variables present within them.</p> <ul><li><p>Execute the following command to open the config.json file and update it with the HPE OneView IP address, X API version and credentials.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-vault edit config.json
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Default password for Ansible Vault file &quot;config.json&quot; is changeme.</p></div> <ul><li>Example values for the input configuration is as follows<div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
<span class="token property">&quot;oneview_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;IP address of HPE OneView&gt;&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;oneview_username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;username of HPE OneView with account Infrastructure administrator priviliges&gt;&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;oneview_password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;password for HPE OneView with account Infrastructure administrator priviliges&gt;&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;oneview_x_api_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;HPE OneView X API version, 1800 for HPE OneView 5.2&gt;&quot;</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>Execute the following command to open the composer_security_config.json file and update it with the of desired security configurations for HPE OneView.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">vi</span> composer_security_config.json
</code></pre></div><p><strong>Details about the configurations:</strong></p> <ul><li><p>Cryptographic mode</p> <ul><li><p>Input variable name - CryptographicMode</p></li> <li><p>Accepted values - Legacy (for enabling Legacy cryptographic mode), FIPS (for enabling FIPS cryptographic mode), CNSA (for enabling CNSA cryptographic mode)</p></li></ul></li> <li><p>Enforcing Complex Password</p> <ul><li><p>Input variable name - enforceComplexPasswordEnabled</p></li> <li><p>Accepted values - true (For enabling Complex Password) or false (For disabling Complex Password)</p></li></ul></li> <li><p>Hardware Setup Access</p> <ul><li><p>Input variable name - technicianEnabled</p></li> <li><p>Accepted values - true (For enabling Hardware setup access) or false (For disabling Hardware setup access)</p></li></ul></li> <li><p>SSH Access</p> <ul><li><p>Input variable name - allowSshAccess</p></li> <li><p>Accepted values - true (For enabling SSH access) or false (For disabling SSH access)</p></li></ul></li> <li><p>Services Console Access</p> <ul><li><p>Input variable name -- ServiceConsoleAccess</p></li> <li><p>Accepted values - true (For enabling Authorized services access) or false (For disabling Authorized services access)</p></li> <li><p>Example values for the input configuration is as follows.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>

<span class="token property">&quot;CryptographicMode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CNSA&quot;</span><span class="token punctuation">,</span>

<span class="token property">&quot;enforceComplexPasswordEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

<span class="token property">&quot;technicianEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

<span class="token property">&quot;allowSshAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

<span class="token property">&quot;ServiceConsoleAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul></li></ul></li></ol> <ol start="3"><li>Executing the script to update the security configurations of HPE Synergy Composer.<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> python3 composer_security.py
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <ul><li>Default key for &quot;Enter the key to decrypt OneView credentials file&quot; is &quot;changeme&quot;.</li> <li>This script requires a confirmation to configure the security features of HPE OneView and promts the following message.
<ul><li>For general settings:
Message<div class="language- extra-class"><pre class="language-text"><code>Press enter to confirm the changes. By pressing enter you confirm that you understand the implications and agree for the state to be updated: 
</code></pre></div></li> <li>For cryptographic mode settings:
Message<div class="language- extra-class"><pre class="language-text"><code>This operation requires a reboot and approximately takes around 40 mins once the request is initiated.
Press enter to confirm the changes. By pressing enter you confirm that you understand the implications and agree for the state to be updated:
</code></pre></div></li></ul></li> <li>The installation user could choose to press <strong>enter</strong> to approve the updates or could choose to abort the execution of the script.</li></ul></div> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>The update of the security configuration &quot;Cryptographic Mode&quot; requires a reboot and it approximately takes around 40 mins for the update once the request is initiated, thus the script displays the previous state for the same. The update can be seen in the OneView Global Dashboard &gt; Settings &gt; Security once the OneView Global Dashboard is accessible.</p></div></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-hpecp/5.1/Additional Features and Functionality/Worker Node Labelling.html" class="prev">
        Physical worker node labeling in HPE Ezmeral Container Platform
      </a></span> <span class="next"><a href="/hpe-solutions-hpecp/5.1/Resources and additional links/Resources and additional links.html">
        Resources and additional links
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-hpecp/5.1/assets/js/app.ef59d087.js" defer></script><script src="/hpe-solutions-hpecp/5.1/assets/js/2.d85522de.js" defer></script><script src="/hpe-solutions-hpecp/5.1/assets/js/12.a84126ed.js" defer></script>
  </body>
</html>
