<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploying HPE Ezmeral Container Platform using Ansible playbook | HPE EZMERAL CONTAINER PLATFORM 5.1 AND HPE EZMERAL DATA FABRIC ON HPE SYNERGY AND HPE APOLLO 4200 GEN10 SERVERS</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="">
    <link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/css/0.styles.ad965169.css" as="style"><link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/js/app.ef59d087.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/js/2.d85522de.js" as="script"><link rel="preload" href="/hpe-solutions-hpecp/5.1/assets/js/17.e57d4413.js" as="script"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/10.06af00e2.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/11.b5cb4c34.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/12.a84126ed.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/13.0680d9b2.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/14.795ea125.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/15.33cac8ca.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/16.88e99b7e.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/18.f9325bb2.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/19.de5eb1f0.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/20.be5877b8.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/21.01285221.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/22.4f2e2874.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/23.22cda737.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/24.a2a5f581.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/3.2cb330c1.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/4.e3f72e24.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/5.a6146132.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/6.062d4e39.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/7.8414efd9.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/8.41db8db4.js"><link rel="prefetch" href="/hpe-solutions-hpecp/5.1/assets/js/9.164e8e89.js">
    <link rel="stylesheet" href="/hpe-solutions-hpecp/5.1/assets/css/0.styles.ad965169.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-hpecp/5.1/" class="home-link router-link-active"><!----> <span class="site-name">HPE EZMERAL CONTAINER PLATFORM 5.1 AND HPE EZMERAL DATA FABRIC ON HPE SYNERGY AND HPE APOLLO 4200 GEN10 SERVERS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HPE Ezmeral Container Platform 5.1</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Solution Deployment</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Solution Deployment Flow.html" class="sidebar-link">Solution Deployment Flow</a></li><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Host-Configuration.html" class="sidebar-link">Host configuration</a></li><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Server Profile.html" class="sidebar-link">Server Profile Overview</a></li><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Operating System Deployment.html" class="sidebar-link">Deploying operating system on bare-metal nodes</a></li><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Preparing Hosts.html" class="sidebar-link">Preparing SLES 15 hosts for HPECP installation</a></li><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html" class="active sidebar-link">Deploying HPE Ezmeral Container Platform using Ansible playbook</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#input-files" class="sidebar-link">Input files</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#sample-input-files" class="sidebar-link">Sample input files</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#details-of-playbook" class="sidebar-link">Details of Playbook</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#playbook-description" class="sidebar-link">Playbook description</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#playbooks-description" class="sidebar-link">Playbooks Description</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#uninstall-information" class="sidebar-link">Uninstall information</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Automated HPECP Deployment.html#other-playbooks" class="sidebar-link">Other Playbooks</a></li></ul></li><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Manual HPECP Deployment.html" class="sidebar-link">Manually Install and configure HPE Ezmeral Container Platform 5.1</a></li><li><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Securing HPECP.html" class="sidebar-link">Securing HPE Ezmeral Container Platform using Sysdig Secure and Sysdig Monitor</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resources and additional links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deploying-hpe-ezmeral-container-platform-using-ansible-playbook"><a href="#deploying-hpe-ezmeral-container-platform-using-ansible-playbook" class="header-anchor">#</a> Deploying HPE Ezmeral Container Platform using Ansible playbook</h1> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>Usage of Ansible playbooks to deploy the HPE Ezmeral Container Platform is automated and eliminates manual intervention. Ansible playbooks provides the following functionalities for the installation user to deploy HPE Ezmeral Container Platform.</p> <ul><li><p>Install the controller node</p></li> <li><p>Add gateway nodes, delete gateway nodes or enable gateway HA</p></li> <li><p>Add and delete EPIC worker nodes</p></li> <li><p>Enable or disable controller high availability</p></li> <li><p>Add or remove hosts on the Kubernetes</p></li> <li><p>Create or delete Kubernetes cluster</p></li> <li><p>Create or delete tenants</p></li></ul> <p>Figure 11 shows the high level flow of the automated deployment.</p> <p><img src="/hpe-solutions-hpecp/5.1/assets/img/Figure11.5ec23b6f.png" alt=""></p> <p><strong>Figure 11.</strong> Workflow diagram for automated HPE Ezmeral Container Platform deployment</p> <div class="custom-block warning"><p class="custom-block-title">Prerequisites</p> <ul><li><p>Linux machine with Ansible 2.9.x and python 3.x as mentioned in <a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Host-Configuration.html#installer-machine">Installer machine</a> section of deployment guide</p></li> <li><p>Minimum five (5) nodes with SLES 15 SP1 (nodes can be VMs or bare metal).</p></li> <li><p>Obtain the URL of the HPE Ezmeral Container Platform bundle (using S3 bucket) and download the bin file on installer and provide the executable permissions.</p></li></ul></div> <h2 id="input-files"><a href="#input-files" class="header-anchor">#</a> Input files</h2> <ul><li><p>Update the values in <em>vars.yml</em> and <em>hosts inventory file</em> according to your environment.</p></li> <li><p>Use following command to edit <em>vars.yml</em> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-vault edit group_vars/all/vars.yml 
</code></pre></div></li></ul> <h2 id="sample-input-files"><a href="#sample-input-files" class="header-anchor">#</a> Sample input files</h2> <ul><li><p>Sample hosts inventory file looks like:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code>
    <span class="token punctuation">[</span>local<span class="token punctuation">]</span>
    localhost            ansible_connection=local ansible_python_interpreter=/opt/hpe/solutions/hpecp/hpcp_venv/bin/python

    <span class="token punctuation">[</span>allnodes<span class="token punctuation">]</span>
    controller<span class="token punctuation">-</span>node           ansible_host=20.x.x.x
    worker<span class="token punctuation">-</span>node<span class="token punctuation">-</span>1             ansible_host=20.x.x.x
    worker<span class="token punctuation">-</span>node<span class="token punctuation">-</span>2             ansible_host=20.x.x.x
    worker<span class="token punctuation">-</span>node<span class="token punctuation">-</span>3             ansible_host=20.x.x.x
    gateway<span class="token punctuation">-</span>node<span class="token punctuation">-</span>1            ansible_host=20.x.x.x
    gateway<span class="token punctuation">-</span>node<span class="token punctuation">-</span>2            ansible_host=20.x.x.x
    epic<span class="token punctuation">-</span>worker<span class="token punctuation">-</span>1             ansible_host=20.x.x.x
    epic<span class="token punctuation">-</span>worker<span class="token punctuation">-</span>2             ansible_host=20.x.x.x

    <span class="token punctuation">[</span>controller<span class="token punctuation">]</span>
    controller<span class="token punctuation">-</span>node           ansible_host=20.x.x.x

    <span class="token punctuation">[</span>k8sclusternodes<span class="token punctuation">]</span>
    worker<span class="token punctuation">-</span>node<span class="token punctuation">-</span>1             ansible_host=20.x.x.x
    worker<span class="token punctuation">-</span>node<span class="token punctuation">-</span>2             ansible_host=20.x.x.x
    worker<span class="token punctuation">-</span>node<span class="token punctuation">-</span>3             ansible_host=20.x.x.x

    <span class="token punctuation">[</span>gateway<span class="token punctuation">]</span>
    gateway<span class="token punctuation">-</span>node<span class="token punctuation">-</span>1            ansible_host=20.x.x.x
    gateway<span class="token punctuation">-</span>node<span class="token punctuation">-</span>2            ansible_host=20.x.x.x

    <span class="token punctuation">[</span>epicworkers<span class="token punctuation">]</span>
    epic<span class="token punctuation">-</span>worker<span class="token punctuation">-</span>1             ansible_host=20.x.x.x
    epic<span class="token punctuation">-</span>worker<span class="token punctuation">-</span>2             ansible_host=20.x.x.x
</code></pre></div></li></ul> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <ul><li>Get ansible_python_interpreter value by running<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">which</span> python3
</code></pre></div></li></ul> <p>command and assign this value to ansible_connection variable.</p> <ul><li>Sample vars.yml can be found in the following path <strong>group_vars/all/vars.sample</strong> along with description of each input variable.</li></ul></div> <h2 id="details-of-playbook"><a href="#details-of-playbook" class="header-anchor">#</a> Details of Playbook</h2> <p>HPE Ezmeral Container Platform can be deployed by running <strong>site.yml</strong> or by running individual playbooks. Each playbook description can be found further in this document</p> <ul><li><p>To build complete setup:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts site.yml  --ask-vault-pass
</code></pre></div></li> <li><p>In case if user want to deploy through individual playbooks. Sequence of playbooks to be followed are:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/download-tools.yml --ask-vault-pass 
<span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/controller.yml --ask-vault-pass
<span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/gateway-add.yml --ask-vault-pass 
<span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/epic-workers-add.yml --ask-vault-pass 
<span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/controller-ha.yml --ask-vault-pass 
<span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/k8s-add-hosts.yml --ask-vault-pass
<span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/k8s-create-cluster.yml --ask-vault-pass
<span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/k8s-create-tenant.yml --ask-vault-pass 
</code></pre></div></li></ul> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>In case if there is no requirement of controller ha, user can skip <strong>playbooks/controller-ha.yml</strong></p></div> <h2 id="playbook-description"><a href="#playbook-description" class="header-anchor">#</a> Playbook description</h2> <ul><li><p><strong>site.yml</strong></p> <ul><li>This playbook contains the script to deploy HPE Ezmeral Container Platform starting from the controller until tenant configuration.</li></ul></li> <li><p><strong>download-tools.yml</strong></p> <ul><li><p>This playbook downloads the below tools under <strong>/usr/local/bin</strong> in the installer machine and provides executable permissions.</p> <ul><li>epicctl</li> <li>kubectl</li> <li>kubectl-hpecp plugin</li> <li>jq</li></ul></li></ul></li></ul> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>In case of facing any issues while running download-tools.yml playbook, download tools manually from the following links, place it under
<strong>/usr/local/bin</strong> and change executable permissions.</p> <ul><li>epicctl <a href="https://my-epicctl.s3-us-west-2.amazonaws.com/epicctl" target="_blank" rel="noopener noreferrer">https://my-epicctl.s3-us-west-2.amazonaws.com/epicctl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>kubectl <a href="https://storage.googleapis.com/Kubernetes-release/release/%7Bkubectl_cli_version%7D/bin/linux/amd64/kubectl" target="_blank" rel="noopener noreferrer">https://storage.googleapis.com/Kubernetes-release/release/{kubectl_cli_version}/bin/linux/amd64/kubectl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>kubectl-hpecp plugin <a href="https://bluedata-releases.s3.amazonaws.com/kubectl-epic/3.2/162/linux/kubectl-hpecp" target="_blank" rel="noopener noreferrer">https://bluedata-releases.s3.amazonaws.com/kubectl-epic/3.2/162/linux/kubectl-hpecp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>jq <a href="https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64" target="_blank" rel="noopener noreferrer">https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Update <strong>{kubectl_cli_version}</strong> with the version which user wants to download. Please make sure the version is compatible with the version which HPECP supports. It is recommended to use <strong>1.17.5</strong> for the version.</p></div> <h2 id="playbooks-description"><a href="#playbooks-description" class="header-anchor">#</a> Playbooks Description</h2> <ul><li><p><strong>controller.yml</strong></p> <ul><li>This playbook contains the script to deploy controller and also configuring the controller based on the configuaration details provided in the vars.yml file and also provide ip details in hosts inventory file.</li></ul></li> <li><p><strong>gateway-add.yml</strong></p> <ul><li>This playbook contains the script to add gateways. User can add multiple gateways by providing ip and host information in vars.yml file and also provide ip details in hosts inventory file.</li></ul></li> <li><p><strong>epic-workers-add.yml</strong></p> <ul><li>This playbook contains the script to add epic worker nodes. Provide epic worker details in vars.yml and also in hosts inventory file.</li></ul></li> <li><p><strong>controller-ha.yml</strong></p> <ul><li><p>This playbook contains the script to enable controller ha. User need to provide virtual ip with FQDN in vars.yml file to configure controller ha. Please make sure virtual ip details present in DNS entries.</p></li> <li><p>User need to run <strong>playbooks/epic-workers-add.yml</strong> playbook first to add required epic worker nodes. And then run <strong>playbooks/controller-ha.yml</strong> playbook.</p></li></ul></li> <li><p><strong>k8-add-hosts.yml</strong></p> <ul><li>This playbook contains the script to add k8 nodes. Provide k8 nodes information in vars.yml and hosts file.</li></ul></li> <li><p><strong>k8s-create-cluster.yml</strong></p> <ul><li>This playbook contains the script to create cluster. Provide cluster details in vars.yml</li></ul></li> <li><p><strong>k8s-create-tenant.yml</strong></p> <ul><li>This playbook contains the script to create tenant. Provide tenant details in vars.yml.</li></ul></li></ul> <h2 id="uninstall-information"><a href="#uninstall-information" class="header-anchor">#</a> Uninstall information</h2> <ul><li><p>Run below playbook to erase build on controller node.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/uninstall-bds.yml --ask-vault-pass
</code></pre></div></li></ul> <h2 id="other-playbooks"><a href="#other-playbooks" class="header-anchor">#</a> Other Playbooks</h2> <ul><li><p>Run the following command to disable controller ha.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/disable-controller-ha.yml --ask-vault-pass
</code></pre></div></li> <li><p>Run the following command to delete epic workers.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/epic-workers-delete.yml --ask-vault-pass
</code></pre></div></li> <li><p>Run the following command to delete k8s hosts.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/k8s-delete-hosts.yml --ask-vault-pass
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">NOTE</p> <ol><li>If platform <strong>High Availability</strong> is enabled, then the user cannot delete the Controller, Shadow Controller or Arbiter host from the Container Platform.</li> <li>You must have <strong>at least four (4) EPIC worker hosts</strong> (including the HA EPIC worker hosts) in order to decommission the datanodes.</li> <li>If HA is not enabled, then the user can delete the epic workers as usual.</li> <li>For more information see <a href="http://docs.bluedata.com/51_decommissioning-deleting-an-epic-worker" target="_blank" rel="noopener noreferrer">http://docs.bluedata.com/51_decommissioning-deleting-an-epic-worker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div></li> <li><p>Run the following command to delete the tenant.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/k8s-delete-tenant.yml --ask-vault-pass
</code></pre></div></li> <li><p>Run the following command to delete the cluster</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/k8s-delete-cluster.yml --ask-vault-pass
</code></pre></div></li> <li><p>Run the following command to delete gateway.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook -i hosts playbooks/gateway-delete.yml --ask-vault-pass
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Preparing Hosts.html" class="prev">
        Preparing SLES 15 hosts for HPECP installation
      </a></span> <span class="next"><a href="/hpe-solutions-hpecp/5.1/Solution-Deployment/Manual HPECP Deployment.html">
        Manually Install and configure HPE Ezmeral Container Platform 5.1
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-hpecp/5.1/assets/js/app.ef59d087.js" defer></script><script src="/hpe-solutions-hpecp/5.1/assets/js/2.d85522de.js" defer></script><script src="/hpe-solutions-hpecp/5.1/assets/js/17.e57d4413.js" defer></script>
  </body>
</html>
