(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{376:function(e,t,s){e.exports=s.p+"assets/img/Figure64.09a6a40d.png"},430:function(e,t,s){"use strict";s.r(t);var a=s(42),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"securing-hpe-synergy-composer-powered-by-hpe-oneview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#securing-hpe-synergy-composer-powered-by-hpe-oneview"}},[e._v("#")]),e._v(" Securing HPE Synergy Composer powered by HPE OneView")]),e._v(" "),a("p",[e._v("This folder consists of initial scripts to secure HPE composer powered by HPE OneView.")]),e._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("This automation script updates the following security parameters available in HPE Synergy Composer:")]),e._v(" "),a("ol",[a("li",[e._v("Cryptographic mode")])]),e._v(" "),a("p",[e._v("This option allows the configuration of the cryptography mode for your HPE Synergy Composer appliance. Available cryptography modes include:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Legacy: This is the default cryptography mode. In the legacy mode all TLS protocol versions (1.0, 1.1, and 1.2) and associated cipher suites for those versions are supported. TLS certificates are not required to have FIPS or CNSA minimum key lengths nor strong digital signatures.")])]),e._v(" "),a("li",[a("p",[e._v("FIPS: Federal Information Processing Standard (FIPS) Publication 140-2 is a U.S. government computer security standard for products performing cryptography. The FIPS 140-2 Cryptographic Module Validation Program has validated the cryptography libraries of HPE OneView. When in the FIPS mode:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("The cryptographic modules of the appliance are configured to operate in accordance with the FIPS 140-2 level 1 specification. This setting ensures that the required FIPS self-tests are run while loading these cryptographic modules.")])]),e._v(" "),a("li",[a("p",[e._v("The ciphers and algorithms used for cryptographic operations by the appliance are restricted to only those approved by FIPS.")])]),e._v(" "),a("li",[a("p",[e._v("The appliance allows only TLS1.1 and TLS 1.2 protocols for all TLS communications.")])]),e._v(" "),a("li",[a("p",[e._v("All SSH and SNMPv3 communication use only cipher suites and algorithms approved by FIPS.")])])]),e._v(" "),a("p",[e._v("For additional information, see the FIPS-140 site at "),a("a",{attrs:{href:"http://csrc.nist.gov/groups/STM/cmvp/standards.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://csrc.nist.gov/groups/STM/cmvp/standards.html"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("CNSA: The Commercial National Security Algorithm (CNSA) cryptography mode restricts HPE OneView to use only those algorithms included in the CNSA suite. The CNSA suite is a subset of the general FIPS support and includes a set of algorithms used to protect national security systems, including information classified as 'top secret.' In the CNSA mode, the appliance uses only TLS 1.2 protocol and a CNSA-strength subset of the TLS 1.2 ciphers. Similarly, SSH and SNMP communication uses CNSA-compliant ciphers and algorithms.")]),e._v(" "),a("p",[e._v("For additional information, see the CNSA standards site at "),a("a",{attrs:{href:"https://www.iad.gov/iad/programs/iad-initiatives/cnsa-suite.cfm",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.iad.gov/iad/programs/iad-initiatives/cnsa-suite.cfm"),a("OutboundLink")],1),e._v(".")])])]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Enforcing Complex Password")])]),e._v(" "),a("p",[e._v("This option allows the configuration of the Complex password requirements for the HPE Synergy Composer.")]),e._v(" "),a("p",[e._v("Complex password is enforced when users change their password or create user accounts. Complex password rules apply only for the local users configured in HPE OneView. For authentication directory service users, the authentication directory configuration determines the password complexity rules")]),e._v(" "),a("p",[e._v("Complex passwords must contain the following:")]),e._v(" "),a("ul",[a("li",[e._v("Minimum of 14 characters")]),e._v(" "),a("li",[e._v("Minimum of one uppercase character")]),e._v(" "),a("li",[e._v("Minimum of one lowercase character")]),e._v(" "),a("li",[e._v("Minimum one number")]),e._v(" "),a("li",[e._v("Minimum of one special character. For example, !@#$^*_-=+,.?")]),e._v(" "),a("li",[e._v("No whitespace")])]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Hardware Setup Access")])]),e._v(" "),a("p",[e._v("This option allows the configuration of the Hardware setup access to the HPE Synergy Composer. This option controls whether the Hardware Setup button is available from the appliance console. This button allows credential-free access to the HardwareSetup user account from the physical system console.")]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("SSH Access")])]),e._v(" "),a("p",[e._v("This option allows the configuration of the SSH access to the HPE Synergy Composer. HPE OneView supports Secure Shell (SSH) to remotely access the appliance to perform maintenance and recovery operations. Without SSH access, you must access the appliance console. To avoid requiring a console access, SSH access is enabled by default. However, remote access to maintenance and recovery operations is considered a security risk by some users. Therefore, HPE OneView provides the option to disable the remote access to the appliance via SSH.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("SSH access must be enabled to access the serial console CLI. The serial console CLI is used to access unmanaged interconnects.")])]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Services Console Access")])]),e._v(" "),a("p",[e._v("This option allows the configuration of the access to Service Console. By default, authorized technical support personnel are allowed to access your system through the appliance console and diagnose issues that you have reported.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("There are several ways to allow authorized support representatives to access the appliance for advanced troubleshooting operations:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("If on site, the authorized support representative can use the appliance console or an SSH session to the HPE OneView maintenance console.")])]),e._v(" "),a("li",[a("p",[e._v("A shared virtual desktop session where the authorized support representative works with you to obtain a one-time password and you allow him to access the appliance console or maintenance console through the virtual desktop.")])]),e._v(" "),a("li",[a("p",[e._v("You can enable service console access and the service sessions features to allow the authorized support representative to access HPE OneView directly through a secure tunnel.")])])])]),e._v(" "),a("p",[e._v("Support access is privileged, which enables the authorized technical support representative to debug any problems on the appliance. Access to the services access account requires the technician to obtain a one-time password using a challenge/response mechanism similar to the one for a password reset. Any time after the initial configuration of the appliance, an Infrastructure administrator can enable or disable services access through the user interface.")]),e._v(" "),a("p",[e._v("For more information on the securing HPE Synergy Composer, refer to the documentation at "),a("a",{attrs:{href:"https://techlibrary.hpe.com/docs/enterprise/servers/oneview5.2/cicf/en/index.html#c_settings-security.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://techlibrary.hpe.com/docs/enterprise/servers/oneview5.2/cicf/en/index.html#c_settings-security.html"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("Prerequisites")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("CentOS 7 Installer machine with the following configurations is essential:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Python 3.6 or above is present and latest version associated pip is present.")])]),e._v(" "),a("li",[a("p",[e._v("Ansible 2.9 is installed")])])])]),e._v(" "),a("li",[a("p",[e._v("HPE Synergy Composer powered by HPE OneView version 5.2 is available within the deployment environmnemt.")])]),e._v(" "),a("li",[a("p",[e._v("HPE OneView login credentials for the account with Infrastructure administrator priviliges is required.")])])])]),e._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),a("p",[e._v("Figure 64 shows an overview of the steps involved in configuring composer security via the automation.")]),e._v(" "),a("p",[a("img",{attrs:{src:s(376),alt:""}})]),e._v(" "),a("p",[a("strong",[e._v("Figure 64.")]),e._v(" Flow of execution for composer security")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Enable Python3 and Ansible Environment as mentioned in "),a("RouterLink",{attrs:{to:"/Solution-Deployment/Host-Configuration.html#installer-machine"}},[e._v("Installer machine")]),e._v(" section of deployment guide.")],1)]),e._v(" "),a("li",[a("p",[e._v("There are 2 input files config.json and composer_security_config.json, both of which needs to be updated with values for all the variables present within them.")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Execute the following command to open the config.json file and update it with the HPE OneView IP address, X API version and credentials.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ansible-vault edit config.json\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v('Default password for Ansible Vault file "config.json" is changeme.')])]),e._v(" "),a("ul",[a("li",[e._v("Example values for the input configuration is as follows"),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_ip"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<IP address of HPE OneView>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<username of HPE OneView with account Infrastructure administrator priviliges>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_password"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<password for HPE OneView with account Infrastructure administrator priviliges>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"oneview_x_api_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<HPE OneView X API version, 1800 for HPE OneView 5.2>"')]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])])])])]),e._v(" "),a("li",[a("p",[e._v("Execute the following command to open the composer_security_config.json file and update it with the of desired security configurations for HPE OneView.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vi")]),e._v(" composer_security_config.json\n")])])]),a("p",[a("strong",[e._v("Details about the configurations:")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Cryptographic mode")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Input variable name - CryptographicMode")])]),e._v(" "),a("li",[a("p",[e._v("Accepted values - Legacy (for enabling Legacy cryptographic mode), FIPS (for enabling FIPS cryptographic mode), CNSA (for enabling CNSA cryptographic mode)")])])])]),e._v(" "),a("li",[a("p",[e._v("Enforcing Complex Password")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Input variable name - enforceComplexPasswordEnabled")])]),e._v(" "),a("li",[a("p",[e._v("Accepted values - true (For enabling Complex Password) or false (For disabling Complex Password)")])])])]),e._v(" "),a("li",[a("p",[e._v("Hardware Setup Access")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Input variable name - technicianEnabled")])]),e._v(" "),a("li",[a("p",[e._v("Accepted values - true (For enabling Hardware setup access) or false (For disabling Hardware setup access)")])])])]),e._v(" "),a("li",[a("p",[e._v("SSH Access")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Input variable name - allowSshAccess")])]),e._v(" "),a("li",[a("p",[e._v("Accepted values - true (For enabling SSH access) or false (For disabling SSH access)")])])])]),e._v(" "),a("li",[a("p",[e._v("Services Console Access")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Input variable name -- ServiceConsoleAccess")])]),e._v(" "),a("li",[a("p",[e._v("Accepted values - true (For enabling Authorized services access) or false (For disabling Authorized services access)")])]),e._v(" "),a("li",[a("p",[e._v("Example values for the input configuration is as follows.")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"CryptographicMode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CNSA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"enforceComplexPasswordEnabled"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"technicianEnabled"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"allowSshAccess"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ServiceConsoleAccess"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])])])])])])])])])]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Executing the script to update the security configurations of HPE Synergy Composer."),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" python3 composer_security.py\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("ul",[a("li",[e._v('Default key for "Enter the key to decrypt OneView credentials file" is "changeme".')]),e._v(" "),a("li",[e._v("This script requires a confirmation to configure the security features of HPE OneView and promts the following message.\n"),a("ul",[a("li",[e._v("For general settings:\nMessage"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Press enter to confirm the changes. By pressing enter you confirm that you understand the implications and agree for the state to be updated: \n")])])])]),e._v(" "),a("li",[e._v("For cryptographic mode settings:\nMessage"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("This operation requires a reboot and approximately takes around 40 mins once the request is initiated.\nPress enter to confirm the changes. By pressing enter you confirm that you understand the implications and agree for the state to be updated:\n")])])])])])]),e._v(" "),a("li",[e._v("The installation user could choose to press "),a("strong",[e._v("enter")]),e._v(" to approve the updates or could choose to abort the execution of the script.")])])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v('The update of the security configuration "Cryptographic Mode" requires a reboot and it approximately takes around 40 mins for the update once the request is initiated, thus the script displays the previous state for the same. The update can be seen in the OneView Global Dashboard > Settings > Security once the OneView Global Dashboard is accessible.')])])])])])}),[],!1,null,null,null);t.default=o.exports}}]);