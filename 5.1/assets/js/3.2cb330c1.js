(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{397:function(e,t,a){e.exports=a.p+"assets/img/Figure12.d50bfceb.png"},398:function(e,t,a){e.exports=a.p+"assets/img/Figure13.14827686.png"},399:function(e,t,a){e.exports=a.p+"assets/img/Figure14.e5a35055.png"},400:function(e,t,a){e.exports=a.p+"assets/img/Figure15.1eaf804f.png"},401:function(e,t,a){e.exports=a.p+"assets/img/Figure16.8fcb5861.png"},402:function(e,t,a){e.exports=a.p+"assets/img/Figure17.f7a53a79.png"},403:function(e,t,a){e.exports=a.p+"assets/img/Figure18.888b8d8b.png"},404:function(e,t,a){e.exports=a.p+"assets/img/Figure19.16abd481.png"},405:function(e,t,a){e.exports=a.p+"assets/img/Figure20.1c15cb3c.png"},406:function(e,t,a){e.exports=a.p+"assets/img/Figure21.442a20e7.png"},407:function(e,t,a){e.exports=a.p+"assets/img/Figure22.1ec1b0c7.png"},408:function(e,t,a){e.exports=a.p+"assets/img/Figure23.9f4aab47.png"},409:function(e,t,a){e.exports=a.p+"assets/img/Figure24.641d0c11.png"},410:function(e,t,a){e.exports=a.p+"assets/img/Figure25.97469360.png"},411:function(e,t,a){e.exports=a.p+"assets/img/Figure26.0b4473bb.png"},412:function(e,t,a){e.exports=a.p+"assets/img/Figure27.07a25744.png"},413:function(e,t,a){e.exports=a.p+"assets/img/Figure28.da5e9bf5.png"},414:function(e,t,a){e.exports=a.p+"assets/img/Figure29.ed058028.png"},415:function(e,t,a){e.exports=a.p+"assets/img/Figure30.db96c50b.png"},416:function(e,t,a){e.exports=a.p+"assets/img/Figure31.5d151b8c.png"},441:function(e,t,a){"use strict";a.r(t);var r=a(42),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"manually-install-and-configure-hpe-ezmeral-container-platform-5-1"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#manually-install-and-configure-hpe-ezmeral-container-platform-5-1"}},[e._v("#")]),e._v(" Manually Install and configure HPE Ezmeral Container Platform 5.1")]),e._v(" "),r("p",[e._v("Follow the steps as outlined to install and configure the HPE Ezmeral Container Platform. This section assumes you have followed all the prerequisites mentioned in the earlier sections.")]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),r("p",[e._v("The below UI screenshots are from the HPE Ezmeral Container Platform 5.0 which does not have the Ezmeral branding.")])]),e._v(" "),r("ol",[r("li",[e._v("Login to the host that will be used as the Controller host. Navigate to the HPE Ezmeral Container Platform binary (.bin) folder and provide the necessary execution permission.")])]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" a+x "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("HPE Ezmeral Container Platform.bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ./"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("HPE Ezmeral Container Platform.bin"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),r("p",[e._v("After the software is installed on the Controller, launch the Web UI using the URL provided at the end of the installation. The link should be similar to "),r("a",{attrs:{href:"http://ControllerIP",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://ControllerIP"),r("OutboundLink")],1),e._v(". The screen shown in Figure 12 will appear. For further configuration of the controller, provide the necessary information, and click Submit.")]),e._v(" "),r("p",[r("img",{attrs:{src:a(397),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 12.")]),e._v(" HPE Ezmeral Container Platform Controller setup")]),e._v(" "),r("p",[r("img",{attrs:{src:a(398),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 13.")]),e._v(" HPE Ezmeral Container Platform Controller setup with HPE Ezmeral Data Fabric for Kubernetes")]),e._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[e._v("After the successful configuration a screen appears as shown in Figure 14. Enter an appropriate username and password to login to the HPE Ezmeral Container Platform management UI.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(399),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 14.")]),e._v(" HPE Ezmeral Container Platform Management UI login screen")]),e._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[e._v("The dashboard as shown in Figure 15 appears upon successful login.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(400),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 15.")]),e._v(" HPE Ezmeral Container Platform Kubernetes - Dashboard")]),e._v(" "),r("h2",{attrs:{id:"platform-high-availability"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#platform-high-availability"}},[e._v("#")]),e._v(" Platform high availability")]),e._v(" "),r("p",[e._v("Add EPIC Hosts - Worker Node")]),e._v(" "),r("ol",{attrs:{start:"4"}},[r("li",[e._v("Login to the HPE Ezmeral Container Platform web interface. Navigate to EPIC drop-down on the left pane, click hosts and add EPIC worker hosts as shown in Figure 16")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(401),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 16.")]),e._v(" HPE Ezmeral Container Platform - EPIC worker host installation")]),e._v(" "),r("ol",{attrs:{start:"5"}},[r("li",[r("p",[e._v("Select the respective disks for the Docker storage and for the HPE Ezmeral Data Fabric and proceed for the installation of worker nodes.")])]),e._v(" "),r("li",[r("p",[e._v("Prior to adding the HPE Ezmeral Container Platform high availability, the HPE Ezmeral Container Platform needs to be put into Site Lockdown mode. To do this, select Enter site lockdown as shown in Figure 17.")])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(402),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 17.")]),e._v(" HPE Ezmeral Container Platform - Enter site lockdown")]),e._v(" "),r("ol",{attrs:{start:"7"}},[r("li",[e._v("After successfully adding worker hosts to the HPE Ezmeral Container Platform, go to GLOBAL SETTINGS drop-down. Click Controllers and select enable HA checkbox as shown in Figure 18. Provide the Cluster IP, Shadow Controller, and Arbiter Node and click Submit.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(403),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 18.")]),e._v(" HPE Ezmeral Container Platform - Enabling platform HA")]),e._v(" "),r("h2",{attrs:{id:"hpe-ezmeral-container-platform-gateway"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#hpe-ezmeral-container-platform-gateway"}},[e._v("#")]),e._v(" HPE Ezmeral Container Platform Gateway")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Prior to adding the HPE Ezmeral Container Platform Gateway host, the HPE Ezmeral Container Platform needs to be put into Site Lockdown mode.")])]),e._v(" "),r("li",[r("p",[e._v("Add the gateway by clicking the Gateway LB on the left pane and provide the details as shown in Figure 19. Click Add Gateway")])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(404),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 19.")]),e._v(" HPE Ezmeral Container Platform - Adding Gateway Server")]),e._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[e._v('After the Gateway Server is installed, a green "Installed" status is seen as shown in Figure 20.')])]),e._v(" "),r("p",[r("img",{attrs:{src:a(405),alt:""}}),e._v(" "),r("strong",[e._v("Figure 20.")]),e._v(" HPE Ezmeral Container Platform - Gateway added and installed")]),e._v(" "),r("h2",{attrs:{id:"gateway-host-high-availability"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gateway-host-high-availability"}},[e._v("#")]),e._v(" Gateway Host high availability")]),e._v(" "),r("p",[e._v("Add multiple gateway servers as Gateway LB as shown in Figure 21. Map these Gateway host IP addresses to a single hostname that adds redundancy for Gateway hosts. After this is done, then either the DNS server or an external load balancer will load-balance requests to the hostname among all the Gateway hosts on a round-robin basis. This ensures that there is no single point of failure for the Gateway host.")]),e._v(" "),r("p",[r("img",{attrs:{src:a(406),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 21.")]),e._v(" HPE Ezmeral Container Platform - Gateway LB high availability")]),e._v(" "),r("p",[e._v("To add one or more Gateway Worker host(s) to your HPE Ezmeral Container Platform deployment, you must specify a hostname in the Hostname field. If you specify one hostname for more than one Gateway IP address, then either the DNS server or external load balancer will load-balance requests to the hostname among all the Gateway hosts on a round-robin basis. For example, if three Gateway hosts are sharing a hostname, then Users 1-3 will access virtual nodes via Hosts 1-3. User 4 will access virtual nodes using Host 1, and so on. You may add additional Gateway host(s) to an existing set at any time by specifying the IP address(es) of the Gateway host(s) you are adding and then entering an existing Gateway hostname. You can use Gateway hostnames in one of the following ways:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Configure the Gateway hostname in the corporate DNS server to resolve the IP address(es) of the Gateway host(s).")])]),e._v(" "),r("li",[r("p",[e._v("Configure an external load balancer with rules to point traffic to the IP address(es) of the Gateway host(s). HPE Ezmeral Container Platform does not validate these rules.")])])]),e._v(" "),r("p",[e._v("For more information on load balancing, see "),r("a",{attrs:{href:"http://docs.bluedata.com/50_load-balancing",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://docs.bluedata.com/50_load-balancing"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),r("p",[e._v("Ensure that you exit from Site lockdown mode at this point.")])]),e._v(" "),r("h2",{attrs:{id:"add-kubernetes-hosts"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#add-kubernetes-hosts"}},[e._v("#")]),e._v(" Add Kubernetes Hosts")]),e._v(" "),r("p",[e._v("Adding each K8s host is a two-phase process:")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("Phase 1: Add the host and do an initial bundle installation")])]),e._v(" "),r("li",[r("p",[e._v("Phase 2: Configure and confirm storage allocation for this node")])])]),e._v(" "),r("h3",{attrs:{id:"add-the-host-and-perform-the-initial-installation"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#add-the-host-and-perform-the-initial-installation"}},[e._v("#")]),e._v(" Add the host and perform the initial installation")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Expand the Kubernetes tab on the left pane of Web UI.")])]),e._v(" "),r("li",[r("p",[e._v("Navigate to the Hosts tab under the Kubernetes tab. Do not select the Host view under the EPIC tab.")])]),e._v(" "),r("li",[r("p",[e._v('Enter details for IP List, Username, Credentials, and Password and then click Submit as in Figure 22. HPE Ezmeral Container Platform will install the software and perform the initial configuration. This step will complete when the status shows "phase 1 of 2 completed".')])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(407),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 22.")]),e._v(" HPE Ezmeral Container Platform - Adding Kubernetes Hosts")]),e._v(" "),r("h3",{attrs:{id:"configure-and-confirm-storage-allocation-for-this-node"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#configure-and-confirm-storage-allocation-for-this-node"}},[e._v("#")]),e._v(" Configure and confirm storage allocation for this node")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("After the bundle is installed, phase 1 is completed. Click edit to confirm disk allocation. HPE Ezmeral Container Platform can only add raw disks.")])]),e._v(" "),r("li",[r("p",[e._v("After the disk allocation is confirmed, select the newly added host and click Install as shown in Figure 23 to complete the Kubernetes node installation.")])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(408),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 23.")]),e._v(" HPE Ezmeral Container Platform - Storage allocation and installing Kubernetes nodes")]),e._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[r("p",[e._v("When Install is selected, a new dialog box will appear to confirm the action. Select OK to continue. The installation will take between 5-10 minutes.")])]),e._v(" "),r("li",[r("p",[e._v("After the Kubernetes node is successfully added, a ready status appears as shown in Figure 24.")])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(409),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 24.")]),e._v(" HPE Ezmeral Container Platform - Kubernetes nodes Ready status")]),e._v(" "),r("h2",{attrs:{id:"create-a-kubernetes-cluster"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-a-kubernetes-cluster"}},[e._v("#")]),e._v(" Create a Kubernetes Cluster")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Click the Create Kubernetes Cluster on the Kubernetes Clusters page under the Kubernetes tab as shown in Figure 25.")])]),e._v(" "),r("li",[r("p",[e._v("Provide a Name and description and then select the master and worker nodes for the cluster as shown in Figure 25. When done, click Next. HPE Ezmeral Container Platform will automatically configure the HPE Ezmeral Data Fabric using the local drives configured with the nodes. This will be used as persistent storage for containerized application.")])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(410),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 25.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster creation - Host configuration")]),e._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[e._v("The Cluster Configuration page appears. Provide the necessary information when prompted.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(411),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 26.")]),e._v(". HPE Ezmeral Container Platform Kubernetes Cluster creation - Summary")]),e._v(" "),r("ol",{attrs:{start:"4"}},[r("li",[e._v("When the Kubernetes cluster has successfully been created, a page appears as in Figure 27.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(412),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 27.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Cluster Creation Status Ready")]),e._v(" "),r("h2",{attrs:{id:"launch-the-kubernetes-dashboard"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#launch-the-kubernetes-dashboard"}},[e._v("#")]),e._v(" Launch the Kubernetes Dashboard")]),e._v(" "),r("ol",[r("li",[e._v("To bring up the Kubernetes Dashboard for the cluster that was just created, click Dashboard icon for the cluster as shown in Figure 28.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(413),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 28.")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard")]),e._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[r("p",[e._v("Click the download icon to download the kubeconfig file. For more details on how to configure or use the kubeconfig on your client, see "),r("a",{attrs:{href:"https://Kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://Kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Select the Dashboard icon to open up a new window. This allows the user to access the Kubernetes Dashboard with an Auth token as shown in Figure 29. Highlight and copy the token. Select Proceed to Kubernetes Dashboard.")])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(414),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 29.")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard - Auth token")]),e._v(" "),r("ol",{attrs:{start:"4"}},[r("li",[e._v("Paste the token value in the next screen and click Sign in as in Figure 30.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(415),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 30.")]),e._v(" HPE Ezmeral Container Platform launching Kubernetes Dashboard - applying Auth token")]),e._v(" "),r("ol",{attrs:{start:"5"}},[r("li",[e._v("A Dashboard Overview page similar to Figure 31 appears.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(416),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("Figure 31.")]),e._v(" HPE Ezmeral Container Platform Kubernetes Dashboard")])])}),[],!1,null,null,null);t.default=s.exports}}]);